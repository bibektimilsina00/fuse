module.exports=[34904,a=>{"use strict";var b=a.i(87924);a.s(["Card",0,({className:a="",children:c})=>(0,b.jsx)("div",{className:`bg-card text-card-foreground border border-border rounded-lg shadow-sm p-6 transition-all hover:shadow-md ${a}`,children:c})])},15618,a=>{"use strict";let b=(0,a.i(60137).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},67453,a=>{"use strict";let b=(0,a.i(60137).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["CheckCircle2",()=>b],67453)},96221,a=>{"use strict";let b=(0,a.i(60137).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},92843,a=>{"use strict";var b=a.i(72131),c=a.i(72752),d=b[" useId ".trim().toString()]||(()=>void 0),e=0;function f(a){let[f,g]=b.useState(d());return(0,c.useLayoutEffect)(()=>{a||g(a=>a??String(e++))},[a]),a||(f?`radix-${f}`:"")}a.s(["useId",()=>f])},90669,a=>{"use strict";let b=(0,a.i(60137).default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);a.s(["Activity",()=>b],90669)},41710,a=>{"use strict";let b=(0,a.i(60137).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["Clock",()=>b],41710)},70279,11021,a=>{"use strict";var b=a.i(33217),c=a.i(70025),d=a.i(37927),e=a.i(90200);let f={getWorkflows:async()=>(await e.apiClient.get("/workflows/")).data,getWorkflow:async a=>e.apiClient.get(`/workflows/${a}`),createWorkflow:async a=>e.apiClient.post("/workflows/",a),updateWorkflow:async(a,b)=>e.apiClient.patch(`/workflows/${a}`,b),deleteWorkflow:async a=>e.apiClient.delete(`/workflows/${a}`),async saveWorkflow(a){let{workflow_id:b,...c}=a;return console.log("[DEBUG] Save workflow request:",JSON.stringify(c,null,2)),e.apiClient.post(`/workflows/${b}/save`,c)},executeWorkflow:async a=>e.apiClient.post(`/workflows/${a}/execute`),getNodeTypes:async()=>e.apiClient.get("/workflows/nodes/types"),generateWithAI:async a=>e.apiClient.post("/workflows/ai/generate",a),executeNode:async(a,b,c={})=>e.apiClient.post(`/workflows/${a}/nodes/${b}/execute`,{input_data:c}),activateWorkflow:async a=>e.apiClient.post(`/workflows/${a}/activate`),deactivateWorkflow:async a=>e.apiClient.post(`/workflows/${a}/deactivate`),getNodeOptions:async(a,b,c={})=>e.apiClient.post("/workflows/node/options",{node_type:a,method_name:b,dependency_values:c}),executeCode:async(a,b,c={})=>e.apiClient.post("/workflows/execute-code",{code:a,language:b,input_data:c}),getDebugWorkflows:async()=>e.apiClient.get("/workflows/debug/workflows"),getDebugWorkflow:async a=>e.apiClient.get(`/workflows/debug/workflows/${a}`)};a.s(["workflowApi",0,f],11021);let g={all:["workflows"],lists:()=>[...g.all,"list"],list:a=>[...g.lists(),{filters:a}],details:()=>[...g.all,"detail"],detail:a=>[...g.details(),a],nodeTypes:()=>[...g.all,"node-types"],nodeOptions:(a,b,c)=>[...g.all,"node-options",a,b,c],debugWorkflows:()=>[...g.all,"debug"],debugWorkflow:a=>[...g.all,"debug",a]};function h(){return(0,b.useQuery)({queryKey:g.lists(),queryFn:f.getWorkflows})}function i(a){return(0,b.useQuery)({queryKey:g.detail(a),queryFn:()=>f.getWorkflow(a),enabled:!!a})}function j(){return(0,b.useQuery)({queryKey:g.nodeTypes(),queryFn:f.getNodeTypes,staleTime:0})}function k(){let a=(0,d.useQueryClient)();return(0,c.useMutation)({mutationFn:a=>f.createWorkflow(a),onSuccess:()=>{a.invalidateQueries({queryKey:g.lists()})}})}function l(){let a=(0,d.useQueryClient)();return(0,c.useMutation)({mutationFn:({id:a,data:b})=>f.updateWorkflow(a,b),onSuccess:(b,c)=>{a.invalidateQueries({queryKey:g.detail(c.id)}),a.invalidateQueries({queryKey:g.lists()})}})}function m(){let a=(0,d.useQueryClient)();return(0,c.useMutation)({mutationFn:a=>f.deleteWorkflow(a),onSuccess:()=>{a.invalidateQueries({queryKey:g.lists()})}})}function n(){let a=(0,d.useQueryClient)();return(0,c.useMutation)({mutationFn:a=>f.saveWorkflow(a),onSuccess:(b,c)=>{a.invalidateQueries({queryKey:g.detail(c.workflow_id)}),a.invalidateQueries({queryKey:g.lists()})}})}function o(){return(0,c.useMutation)({mutationFn:a=>f.executeWorkflow(a)})}function p(){return(0,c.useMutation)({mutationFn:a=>f.generateWithAI(a)})}function q(){return(0,c.useMutation)({mutationFn:({workflowId:a,nodeId:b,inputData:c})=>f.executeNode(a,b,c)})}function r(){let a=(0,d.useQueryClient)();return(0,c.useMutation)({mutationFn:a=>f.activateWorkflow(a),onSuccess:(b,c)=>{a.invalidateQueries({queryKey:g.detail(c)}),a.invalidateQueries({queryKey:g.lists()})}})}function s(){let a=(0,d.useQueryClient)();return(0,c.useMutation)({mutationFn:a=>f.deactivateWorkflow(a),onSuccess:(b,c)=>{a.invalidateQueries({queryKey:g.detail(c)}),a.invalidateQueries({queryKey:g.lists()})}})}function t(){return(0,c.useMutation)({mutationFn:({code:a,language:b,inputData:c})=>f.executeCode(a,b,c||{})})}function u(){return(0,b.useQuery)({queryKey:g.debugWorkflows(),queryFn:f.getDebugWorkflows,staleTime:3e5})}function v(){return(0,c.useMutation)({mutationFn:a=>f.getDebugWorkflow(a)})}a.s(["useActivateWorkflow",()=>r,"useCreateWorkflow",()=>k,"useDeactivateWorkflow",()=>s,"useDebugWorkflows",()=>u,"useDeleteWorkflow",()=>m,"useExecuteCode",()=>t,"useExecuteNode",()=>q,"useExecuteWorkflow",()=>o,"useGenerateWorkflowWithAI",()=>p,"useLoadDebugWorkflow",()=>v,"useNodeTypes",()=>j,"useSaveWorkflow",()=>n,"useUpdateWorkflow",()=>l,"useWorkflow",()=>i,"useWorkflows",()=>h],70279)},38231,a=>{"use strict";var b=a.i(87924),c=a.i(46271),d=a.i(90669),e=a.i(1027),f=a.i(67453),g=a.i(15618),h=a.i(60137);let i=(0,h.default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var j=a.i(41710);let k=(0,h.default)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);var l=a.i(12466),m=a.i(34904),n=a.i(87946),o=a.i(38246),p=a.i(72131),q=a.i(50944),r=a.i(70279),s=a.i(42447);function t(){let{stats:a,workflows:h,handleAICreate:t}=function(){let a=(0,q.useRouter)(),[b,c]=(0,p.useState)(""),[d,e]=(0,p.useState)("grid"),[f,g]=(0,p.useState)("workflows"),{data:h,isLoading:i,error:j}=(0,r.useWorkflows)(),k=(0,r.useGenerateWorkflowWithAI)(),l=(0,r.useCreateWorkflow)(),m=(0,r.useSaveWorkflow)(),n=Array.isArray(h)?h:[],o=(0,p.useMemo)(()=>n.filter(a=>a.meta.name.toLowerCase().includes(b.toLowerCase())||a.meta.description?.toLowerCase().includes(b.toLowerCase())),[n,b]);return{workflows:o,isLoading:i,error:j,stats:(0,p.useMemo)(()=>{let a=n.filter(a=>"active"===a.meta.status).length;return{activeWorkflows:a,totalExecutions:1e3*n.length,avgExecutionTime:"1.2s"}},[n]),searchQuery:b,setSearchQuery:c,viewMode:d,setViewMode:e,activeTab:f,setActiveTab:g,handleAICreate:async b=>{try{let c=await k.mutateAsync({prompt:b});s.logger.info("AI Generation Result:",c);let d=await l.mutateAsync({name:"AI Generated Workflow",description:b});d&&d.id&&(c.nodes&&c.edges&&await m.mutateAsync({workflow_id:d.id,meta:{id:d.id,name:d.meta.name,description:d.meta.description,version:d.meta.version||"1.0.0",status:"draft",tags:[],created_at:d.meta.created_at,updated_at:new Date().toISOString()},graph:{nodes:c.nodes,edges:c.edges},execution:{mode:"sequential",timeout_seconds:300},observability:{logging:!0,metrics:!1},ai:{model:"default"}}),a.push(`/workflows/${d.id}`))}catch(a){throw s.logger.error("Failed to generate workflow:",a),a}},isGeneratingAI:k.isPending}}(),v=[{label:"Total Executions",value:a.totalExecutions.toLocaleString(),change:"+12%",trend:"up",icon:e.Zap,color:"text-blue-500",bg:"bg-blue-500/10"},{label:"Success Rate",value:"98.5%",change:"+0.5%",trend:"up",icon:f.CheckCircle2,color:"text-green-500",bg:"bg-green-500/10"},{label:"Active Workflows",value:a.activeWorkflows.toString(),change:"+2",trend:"up",icon:d.Activity,color:"text-purple-500",bg:"bg-purple-500/10"},{label:"Avg. Duration",value:a.avgExecutionTime,change:"-10%",trend:"down",icon:j.Clock,color:"text-orange-500",bg:"bg-orange-500/10"}],w=h.slice(0,4).map(a=>({id:a.id,workflow:a.meta.name,status:"active"===a.meta.status?"success":"failed",time:new Date(a.meta.updated_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),duration:"1.2s"}));return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1",children:"Overview of your automation performance."})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(l.Button,{variant:"outline",children:"View Reports"}),(0,b.jsx)(n.AICreateDialog,{onSubmit:t}),(0,b.jsx)(o.default,{href:"/workflows",children:(0,b.jsxs)(l.Button,{variant:"outline",children:[(0,b.jsx)(g.Plus,{className:"h-4 w-4 mr-2"}),"New Workflow"]})})]})]}),(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:v.map((a,d)=>(0,b.jsx)(c.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*d},children:(0,b.jsxs)(m.Card,{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("div",{className:u("p-2 rounded-lg",a.bg),children:(0,b.jsx)(a.icon,{className:u("h-5 w-5",a.color)})}),(0,b.jsx)("span",{className:u("text-xs font-medium px-2 py-1 rounded-full","up"===a.trend?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"),children:a.change})]}),(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("h3",{className:"text-2xl font-bold",children:a.value}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.label})]})]})},a.label))}),(0,b.jsxs)("div",{className:"grid gap-8 md:grid-cols-2",children:[(0,b.jsxs)(m.Card,{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold",children:"Recent Activity"}),(0,b.jsxs)(l.Button,{variant:"ghost",size:"sm",className:"text-muted-foreground",children:["View All ",(0,b.jsx)(i,{className:"h-4 w-4 ml-1"})]})]}),(0,b.jsx)("div",{className:"space-y-4",children:0===w.length?(0,b.jsx)("div",{className:"text-center py-8 text-muted-foreground text-sm",children:"No recent activity"}):w.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-muted/50 transition-colors border border-transparent hover:border-border",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:u("h-2 w-2 rounded-full","success"===a.status?"bg-green-500":"bg-red-500")}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-sm",children:a.workflow}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:a.time})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("span",{className:"text-xs font-mono text-muted-foreground",children:a.duration}),(0,b.jsx)(l.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",children:(0,b.jsx)(k,{className:"h-4 w-4"})})]})]},a.id))})]}),(0,b.jsxs)(m.Card,{className:"p-6 bg-gradient-to-br from-primary/5 to-secondary/5 border-primary/10",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,b.jsx)("h2",{className:"text-lg font-semibold",children:"Quick Start"})}),(0,b.jsx)("div",{className:"space-y-3",children:["Webhook to Slack","Form to Email","Weekly Digest"].map(a=>(0,b.jsxs)("button",{className:"w-full flex items-center justify-between p-4 rounded-lg bg-background border border-border hover:border-primary/50 transition-all group text-left",children:[(0,b.jsx)("span",{className:"font-medium",children:a}),(0,b.jsx)("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center group-hover:bg-primary group-hover:text-primary-foreground transition-colors",children:(0,b.jsx)(g.Plus,{className:"h-4 w-4"})})]},a))})]})]})]})}function u(...a){return a.filter(Boolean).join(" ")}a.s(["default",()=>t],38231)}];

//# sourceMappingURL=_b8120d93._.js.map