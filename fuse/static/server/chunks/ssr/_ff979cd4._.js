module.exports=[12466,a=>{"use strict";let b,c,d;var e=a.i(87924),f=a.i(72131),g=a.i(187),h=a.i(74614),i=a.i(70121),j=Symbol.for("react.lazy"),k=f[" use ".trim().toString()];function l(a){var b;return null!=a&&"object"==typeof a&&"$$typeof"in a&&a.$$typeof===j&&"_payload"in a&&"object"==typeof(b=a._payload)&&null!==b&&"then"in b}var m=((d=f.forwardRef((a,b)=>{let{children:c,...d}=a;if(l(c)&&"function"==typeof k&&(c=k(c._payload)),f.isValidElement(c)){var e;let a,g,h=(e=c,(g=(a=Object.getOwnPropertyDescriptor(e.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?e.ref:(g=(a=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?e.props.ref:e.props.ref||e.ref),j=function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{let b=f(...a);return e(...a),b}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(d,c.props);return c.type!==f.Fragment&&(j.ref=b?(0,i.composeRefs)(b,h):h),f.cloneElement(c,j)}return f.Children.count(c)>1?f.Children.only(null):null})).displayName="Slot.SlotClone",b=d,(c=f.forwardRef((a,c)=>{let{children:d,...g}=a;l(d)&&"function"==typeof k&&(d=k(d._payload));let h=f.Children.toArray(d),i=h.find(o);if(i){let a=i.props.children,d=h.map(b=>b!==i?b:f.Children.count(a)>1?f.Children.only(null):f.isValidElement(a)?a.props.children:null);return(0,e.jsx)(b,{...g,ref:c,children:f.isValidElement(a)?f.cloneElement(a,void 0,d):null})}return(0,e.jsx)(b,{...g,ref:c,children:d})})).displayName="Slot.Slot",c),n=Symbol("radix.slottable");function o(a){return f.isValidElement(a)&&"function"==typeof a.type&&"__radixId"in a.type&&a.type.__radixId===n}let p=(0,g.cva)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-md hover:bg-primary/90 hover:shadow-lg hover:-translate-y-0.5 transition-all duration-200",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),q=f.forwardRef(({className:a,variant:b,size:c,asChild:d=!1,children:f,...g},i)=>(0,e.jsx)(d?m:"button",{ref:i,className:(0,h.twMerge)(p({variant:b,size:c}),a),...g,children:f}));q.displayName="Button",a.s(["Button",0,q],12466)},96221,a=>{"use strict";let b=(0,a.i(60137).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},15618,a=>{"use strict";let b=(0,a.i(60137).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},22812,a=>{"use strict";var b=a.i(33217),c=a.i(70025),d=a.i(37927),e=a.i(90200);let f=async()=>e.apiClient.get("/credentials/"),g=async a=>e.apiClient.post("/credentials/",a),h=async a=>e.apiClient.delete(`/credentials/${a}`),i={all:["credentials"],lists:()=>[...i.all,"list"],list:a=>[...i.lists(),a],byType:a=>[...i.all,"byType",a],details:()=>[...i.all,"detail"],detail:a=>[...i.details(),a]};function j(){return(0,b.useQuery)({queryKey:i.lists(),queryFn:f})}function k(a){return(0,b.useQuery)({queryKey:i.byType(a),queryFn:async()=>(await f()).filter(b=>b.type===a),enabled:!!a})}function l(){let a=(0,d.useQueryClient)();return(0,c.useMutation)({mutationFn:a=>g(a),onSuccess:()=>{a.invalidateQueries({queryKey:i.lists()})}})}function m(){let a=(0,d.useQueryClient)();return(0,c.useMutation)({mutationFn:a=>h(a),onSuccess:()=>{a.invalidateQueries({queryKey:i.lists()})}})}a.s(["credentialKeys",0,i,"useCreateCredential",()=>l,"useCredentials",()=>j,"useCredentialsByType",()=>k,"useDeleteCredential",()=>m],22812)},81560,81402,a=>{"use strict";var b=a.i(60137);let c=(0,b.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["Trash2",()=>c],81560);let d=(0,b.default)("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);a.s(["Key",()=>d],81402)},67020,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(22812),e=a.i(12466),f=a.i(15618),g=a.i(81560),h=a.i(81402),i=a.i(96221);function j(){let{data:a=[],isLoading:j,refetch:k}=(0,d.useCredentials)(),l=(0,d.useCreateCredential)(),m=(0,d.useDeleteCredential)(),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)("slack"),[r,s]=(0,c.useState)(""),t=async()=>{if(!n||!r)return;let a={value:r};try{let b=JSON.parse(r);a=Object.fromEntries(Object.entries(b).map(([a,b])=>[a,String(b)]))}catch{a={value:r}}l.mutate({name:n,type:p,data:a},{onSuccess:()=>{o(""),s("")},onError:a=>{console.error("Failed to create credential:",a),alert("Failed to create credential")}})},u=async a=>{confirm("Delete this credential?")&&m.mutate(a,{onError:a=>{console.error("Failed to delete credential:",a)}})};return(0,b.jsx)("div",{className:"min-h-screen bg-background p-8",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"Credentials Test"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Manage your service connections"})]}),(0,b.jsx)(e.Button,{onClick:()=>k(),disabled:j,children:j?(0,b.jsx)(i.Loader2,{className:"h-4 w-4 animate-spin"}):"Refresh"})]}),(0,b.jsxs)("div",{className:"bg-card border border-border rounded-xl p-6 space-y-4",children:[(0,b.jsxs)("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[(0,b.jsx)(f.Plus,{className:"h-5 w-5"}),"Add New Credential"]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Name"}),(0,b.jsx)("input",{type:"text",value:n,onChange:a=>o(a.target.value),placeholder:"My Slack Workspace",className:"w-full px-4 py-2 bg-background border border-border rounded-lg"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Type"}),(0,b.jsxs)("select",{value:p,onChange:a=>q(a.target.value),className:"w-full px-4 py-2 bg-background border border-border rounded-lg",children:[(0,b.jsx)("option",{value:"slack",children:"Slack"}),(0,b.jsx)("option",{value:"discord",children:"Discord"}),(0,b.jsx)("option",{value:"whatsapp",children:"WhatsApp"}),(0,b.jsx)("option",{value:"google_sheets",children:"Google Sheets"}),(0,b.jsx)("option",{value:"generic",children:"Generic"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Secret / API Key / Webhook URL"}),(0,b.jsx)("textarea",{value:r,onChange:a=>s(a.target.value),placeholder:"Paste your API key, webhook URL, or JSON credentials here...",className:"w-full px-4 py-3 bg-background border border-border rounded-lg font-mono text-sm h-24"})]}),(0,b.jsxs)(e.Button,{onClick:t,disabled:l.isPending||!n||!r,children:[l.isPending?(0,b.jsx)(i.Loader2,{className:"h-4 w-4 animate-spin mr-2"}):(0,b.jsx)(f.Plus,{className:"h-4 w-4 mr-2"}),"Create Credential"]})]}),(0,b.jsxs)("div",{className:"bg-card border border-border rounded-xl p-6",children:[(0,b.jsxs)("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[(0,b.jsx)(h.Key,{className:"h-5 w-5"}),"Saved Credentials (",a.length,")"]}),j?(0,b.jsx)("div",{className:"text-center py-8",children:(0,b.jsx)(i.Loader2,{className:"h-8 w-8 animate-spin mx-auto text-muted-foreground"})}):0===a.length?(0,b.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"No credentials found. Create one above to get started."}):(0,b.jsx)("div",{className:"space-y-3",children:a.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-background border border-border rounded-lg hover:border-primary/40 transition-colors",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"font-semibold",children:a.name}),(0,b.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Type: ",a.type," â€¢ Created: ",new Date(a.created_at).toLocaleDateString()]}),(0,b.jsxs)("div",{className:"text-xs text-muted-foreground mt-1 font-mono",children:["ID: ",a.id]})]}),(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",onClick:()=>u(a.id),className:"text-destructive hover:text-destructive",children:(0,b.jsx)(g.Trash2,{className:"h-4 w-4"})})]},a.id))})]})]})})}a.s(["default",()=>j])}];

//# sourceMappingURL=_ff979cd4._.js.map