(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4498],{7810:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(78340).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},18300:(e,t,s)=>{"use strict";s.d(t,{iZ:()=>d,vz:()=>c,Wn:()=>u,LR:()=>m});var a=s(32842),r=s(35625),i=s(48934),n=s(61899);let l={async login(e){let t=new URLSearchParams;t.append("username",e.email),t.append("password",e.password);let s=await n.uE.postFormData("/login/access-token",t);return n.uE.setToken(s.access_token),s},register:async e=>n.uE.post("/register",e),getCurrentUser:async()=>n.uE.get("/users/me"),logout(){n.uE.setToken(null)}},o={all:["auth"],currentUser:()=>[...o.all,"current-user"]};function d(){return(0,a.I)({queryKey:o.currentUser(),queryFn:l.getCurrentUser,retry:!1,staleTime:3e5,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1})}function c(){let e=(0,r.jE)();return(0,i.n)({mutationFn:e=>l.login(e),onSuccess:()=>{e.invalidateQueries({queryKey:o.currentUser()})}})}function m(){let e=(0,r.jE)();return(0,i.n)({mutationFn:e=>l.register(e),onSuccess:()=>{e.invalidateQueries({queryKey:o.currentUser()})}})}function u(){let e=(0,r.jE)();return(0,i.n)({mutationFn:()=>(l.logout(),Promise.resolve()),onSuccess:()=>{e.clear()}})}},19417:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>l,useAuth:()=>o});var a=s(95155),r=s(12115),i=s(18300);let n=(0,r.createContext)(void 0);function l({children:e}){let{data:t,isLoading:s,error:r}=(0,i.iZ)(),l=(0,i.Wn)(),o=r?null:t??null;return(0,a.jsx)(n.Provider,{value:{user:o,isLoading:!r&&s,isAuthenticated:!!o,logout:()=>l.mutate()},children:e})}function o(){let e=(0,r.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},30971:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(78340).A)("workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]])},42869:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(78340).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},44071:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(78340).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},60285:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(78340).A)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},61842:(e,t,s)=>{"use strict";s.d(t,{AIAssistantProvider:()=>n,useAIAssistant:()=>l});var a=s(95155),r=s(12115);let i=(0,r.createContext)(void 0);function n({children:e}){let[t,s]=(0,r.useState)(!1),[n,l]=(0,r.useState)("help");return(0,a.jsx)(i.Provider,{value:{isOpen:t,mode:n,openAssistant:(e="help")=>{l(e),s(!0)},closeAssistant:()=>{s(!1)}},children:e})}function l(){let e=(0,r.useContext)(i);if(!e)throw Error("useAIAssistant must be used within AIAssistantProvider");return e}},67899:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(78340).A)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},70896:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>B});var a=s(95155),r=s(12115),i=s(57420),n=s(42869),l=s(20232),o=s(60285),d=s(53961),c=s(86901),m=s(51914),u=s(30971),h=s(78340);let x=(0,h.A)("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);var p=s(61878),g=s(66088),f=s(92622),w=s(38194);let y=(0,h.A)("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);var v=s(9673),j=s(80642),b=s(34426),k=s(41585),N=s(33210);function A({open:e,onOpenChange:t,title:s,description:r,confirmText:i="Confirm",cancelText:n="Cancel",onConfirm:l,variant:o="danger"}){let d={danger:{icon:"bg-red-100 dark:bg-red-900/20 text-red-600 dark:text-red-400",button:"bg-red-600 hover:bg-red-700 text-white"},warning:{icon:"bg-amber-100 dark:bg-amber-900/20 text-amber-600 dark:text-amber-400",button:"bg-amber-600 hover:bg-amber-700 text-white"},info:{icon:"bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400",button:"bg-blue-600 hover:bg-blue-700 text-white"}}[o];return(0,a.jsx)(j.N,{children:e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>t(!1),className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50"}),(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)(v.P.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",duration:.3},className:"bg-white dark:bg-slate-900 rounded-xl shadow-2xl max-w-md w-full border border-border overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex items-start gap-4 p-6 pb-4",children:[(0,a.jsx)("div",{className:`p-3 rounded-full ${d.icon}`,children:(0,a.jsx)(k.A,{className:"h-6 w-6"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-foreground mb-1",children:s}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:r})]}),(0,a.jsx)("button",{onClick:()=>t(!1),className:"text-muted-foreground hover:text-foreground transition-colors",children:(0,a.jsx)(N.A,{className:"h-5 w-5"})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-3 px-6 py-4 bg-muted/30 border-t border-border",children:[(0,a.jsx)(b.$,{variant:"outline",onClick:()=>t(!1),children:n}),(0,a.jsx)(b.$,{onClick:()=>{l(),t(!1)},className:d.button,children:i})]})]})})]})})}var C=s(3038),S=s(92564),$=s(92289),E=s(67899),M=s(7810),P=s(48368),I=s(44071);let _=(0,h.A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),T={whatsapp:S.A,email:$.A,ecommerce:E.A,leads:M.A,documents:P.A,automation:d.A,analytics:I.A,scheduling:i.A,payments:_},z=({onUseTemplate:e})=>(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Template Library"}),(0,a.jsx)("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Start with a ready-made workflow and customize it"})]})}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{id:"1",name:"WhatsApp Auto-Reply",description:"Automatically respond to WhatsApp messages based on keywords and intent",category:"whatsapp",nodes:[],edges:[]},{id:"2",name:"Lead Collection Bot",description:"Capture leads from WhatsApp, extract details, and save to Google Sheets",category:"leads",nodes:[],edges:[]},{id:"3",name:"Email Auto-Responder",description:"Send personalized email replies using AI when new emails arrive",category:"email",nodes:[],edges:[]},{id:"4",name:"Order Intake System",description:"Process orders from WhatsApp and log them to Google Sheets",category:"ecommerce",nodes:[],edges:[]},{id:"5",name:"FAQ Bot",description:"Answer common questions automatically using AI",category:"automation",nodes:[],edges:[]},{id:"6",name:"Payment Link Generator",description:"Create and send Stripe payment links when requested",category:"payments",nodes:[],edges:[]}].map((t,s)=>(0,a.jsx)(W,{template:t,index:s,onUse:()=>e(t)},t.id))})]}),W=({template:e,index:t,onUse:s})=>{let r=T[e.category]||d.A;return(0,a.jsxs)(v.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},whileHover:{y:-4},className:"group relative bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 p-6 hover:shadow-xl hover:shadow-slate-200 dark:hover:shadow-slate-900/50 transition-all overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-purple-400/10 to-pink-400/10 dark:from-purple-600/10 dark:to-pink-600/10 rounded-full blur-3xl -translate-y-16 translate-x-16 group-hover:scale-150 transition-transform duration-500"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,a.jsx)("div",{className:"p-3 bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-900/30 dark:to-pink-900/30 rounded-xl",children:(0,a.jsx)(r,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})})}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2 group-hover:text-purple-600 dark:group-hover:text-purple-400 transition-colors",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-6 line-clamp-2",children:e.description}),(0,a.jsx)(b.$,{onClick:s,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 shadow-lg shadow-purple-500/20",children:"Use Template"})]})]})};var D=s(73321),L=s(18346),F=s(25336),q=s(93242),O=s(98500),U=s.n(O);function H(...e){return e.filter(Boolean).join(" ")}function R({workflow:e,onEdit:t,onDelete:s,onToggle:d,onDuplicate:c}){let[m,u]=(0,r.useState)(!1);return(0,a.jsxs)(v.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"workflow-row group",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[(0,a.jsx)("div",{className:H("h-2.5 w-2.5 rounded-full shrink-0","active"===e.status&&"bg-emerald-500","inactive"===e.status&&"bg-slate-400","draft"===e.status&&"bg-amber-500")}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)(U(),{href:`/workflows/${e.id}`,className:"font-medium text-sm hover:text-primary transition-colors truncate block",children:e.name}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-xs text-muted-foreground mt-0.5",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(i.A,{className:"h-3 w-3"}),"Last updated ",new Date(e.updatedAt).toLocaleDateString()]}),(0,a.jsx)("span",{children:"|"}),(0,a.jsxs)("span",{children:["Created ",new Date(e.createdAt).toLocaleDateString()]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[e.tags&&e.tags.length>0&&(0,a.jsx)("div",{className:"flex items-center gap-2",children:e.tags.slice(0,2).map(e=>(0,a.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full bg-muted text-muted-foreground",children:e},e))}),(0,a.jsxs)("span",{className:"flex items-center gap-1.5 text-xs px-2.5 py-1 rounded-full bg-muted text-muted-foreground",children:[(0,a.jsx)(n.A,{className:"h-3 w-3"}),"Personal"]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(b.$,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:d,children:(0,a.jsx)(l.A,{className:"h-4 w-4"})}),(0,a.jsx)(b.$,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>u(!m),children:(0,a.jsx)(o.A,{className:"h-4 w-4"})})]})]})]})}function G(){let{openAssistant:e}=(0,q.yJ)(),{workflows:t,isLoading:s,error:i,searchQuery:n,setSearchQuery:l,viewMode:o,setViewMode:h,handleEdit:v,handleDelete:k,handleToggle:N,handleDuplicate:S,handleCreateNew:$,deleteConfirmOpen:E,setDeleteConfirmOpen:M,workflowToDelete:P,confirmDelete:I}=function(){let e=(0,D.useRouter)(),[t,s]=(0,r.useState)(""),[a,i]=(0,r.useState)("grid"),[n,l]=(0,r.useState)("workflows"),{data:o,isLoading:d,error:c}=(0,L.mP)(),m=Array.isArray(o)?o:[],u=(0,L.oE)(),h=(0,L.Ss)(),x=(0,L.nV)(),p=m.filter(e=>e.meta.name.toLowerCase().includes(t.toLowerCase())||e.meta.description?.toLowerCase().includes(t.toLowerCase())),[g,f]=(0,r.useState)(!1),[w,y]=(0,r.useState)(null),v=async()=>{w&&(await u.mutateAsync(w),y(null))},j=async e=>{let t=m.find(t=>t.id===e);t&&await h.mutateAsync({id:e,data:{status:"active"===t.meta.status?"inactive":"active"}})},b=async e=>{let t=m.find(t=>t.id===e);t&&await x.mutateAsync({name:`${t.meta.name} (Copy)`,description:t.meta.description})},k=async()=>{let t=await x.mutateAsync({name:"New Workflow",description:""});e.push(`/workflows/${t.id}`)},[N,A]=(0,r.useState)(!1),C=(0,L.yM)(),S=(0,L.QB)();return{workflows:p,isLoading:d,error:c,searchQuery:t,setSearchQuery:s,viewMode:a,setViewMode:i,activeTab:n,setActiveTab:l,handleEdit:t=>{e.push(`/workflows/${t}`)},handleDelete:e=>{y(e),f(!0)},handleToggle:j,handleDuplicate:b,handleCreateNew:k,showAIDialog:N,handleOpenAIDialog:()=>{A(!0)},handleCloseAIDialog:()=>{A(!1)},handleGenerateWithAI:async(t,s,a)=>{try{let r=await S.mutateAsync({prompt:t,model:s,credentialId:a});F.vF.info("AI Generation Result:",r);let i=await x.mutateAsync({name:"AI Generated Workflow",description:t});i&&i.id&&(r.nodes&&r.edges&&await C.mutateAsync({workflow_id:i.id,meta:{id:i.id,name:i.meta.name,description:i.meta.description,version:i.meta.version||"1.0.0",status:"draft",tags:[],created_at:i.meta.created_at,updated_at:new Date().toISOString()},graph:{nodes:r.nodes,edges:r.edges},execution:{mode:"sequential",timeout_seconds:300},observability:{logging:!0,metrics:!1},ai:{model:"default"}}),e.push(`/workflows/${i.id}`))}catch(e){throw F.vF.error("Failed to generate workflow:",e),e}},deleteConfirmOpen:g,setDeleteConfirmOpen:f,workflowToDelete:w,confirmDelete:v}}(),[_,T]=(0,r.useState)("workflows"),[W,O]=(0,r.useState)("last_updated");return s?(0,a.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsx)("div",{className:"skeleton h-16 rounded-xl"},t))}):i?(0,a.jsxs)("div",{className:"empty-state",children:[(0,a.jsx)("div",{className:"empty-state-icon bg-red-500/10",children:(0,a.jsx)(d.A,{className:"h-8 w-8 text-red-500"})}),(0,a.jsx)("h3",{className:"text-lg font-medium text-red-500 mb-2",children:"Error loading workflows"}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm mb-4",children:i.message}),(0,a.jsx)(b.$,{variant:"outline",onClick:()=>window.location.reload(),children:"Try Again"})]}):(0,a.jsxs)("div",{className:"space-y-6 max-w-[1600px] mx-auto",children:[(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Workflows"}),(0,a.jsx)("p",{className:"text-muted-foreground mt-1",children:"Create and manage your automation workflows"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(b.$,{onClick:()=>e("create"),variant:"outline",className:"shadow-sm border-primary/20 hover:border-primary/40",children:[(0,a.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"Create with AI"]}),(0,a.jsxs)(b.$,{onClick:$,className:"shadow-lg shadow-primary/25",children:[(0,a.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"New Workflow"]})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4 pb-4 border-b border-border",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 bg-muted/50 p-1 rounded-lg",children:[(0,a.jsxs)("button",{onClick:()=>T("workflows"),className:H("flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-all","workflows"===_?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground"),children:[(0,a.jsx)(u.A,{className:"h-4 w-4"}),"My Workflows",(0,a.jsx)("span",{className:"text-xs px-1.5 py-0.5 rounded bg-primary/10 text-primary font-medium",children:t.length})]}),(0,a.jsxs)("button",{onClick:()=>T("templates"),className:H("flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-all","templates"===_?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground"),children:[(0,a.jsx)(x,{className:"h-4 w-4"}),"Templates"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(p.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)("input",{type:"text",value:n,onChange:e=>l(e.target.value),placeholder:"Search workflows...",className:"search-input w-64 !pl-9"})]}),(0,a.jsxs)(b.$,{variant:"outline",size:"sm",className:"gap-2 h-10",children:["Sort by ","last_updated"===W?"last updated":"name",(0,a.jsx)(g.A,{className:"h-3 w-3"})]}),(0,a.jsx)(b.$,{variant:"outline",size:"icon",className:"h-10 w-10",children:(0,a.jsx)(f.A,{className:"h-4 w-4"})}),(0,a.jsxs)("div",{className:"flex items-center border border-border rounded-lg",children:[(0,a.jsx)(b.$,{variant:"list"===o?"secondary":"ghost",size:"icon",className:"h-10 w-10 rounded-r-none",onClick:()=>h("list"),children:(0,a.jsx)(w.A,{className:"h-4 w-4"})}),(0,a.jsx)(b.$,{variant:"grid"===o?"secondary":"ghost",size:"icon",className:"h-10 w-10 rounded-l-none",onClick:()=>h("grid"),children:(0,a.jsx)(y,{className:"h-4 w-4"})})]})]})]}),"workflows"===_&&(0,a.jsx)(a.Fragment,{children:0===t.length?(0,a.jsxs)("div",{className:"empty-state",children:[(0,a.jsx)("div",{className:"empty-state-icon",children:(0,a.jsx)(m.A,{className:"h-8 w-8 text-muted-foreground"})}),(0,a.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No workflows yet"}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm mb-6 max-w-sm",children:"Create your first workflow to get started with automation"}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(b.$,{onClick:$,children:[(0,a.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"Create Workflow"]}),(0,a.jsxs)(b.$,{variant:"outline",onClick:()=>T("templates"),children:[(0,a.jsx)(x,{className:"h-4 w-4 mr-2"}),"Browse Templates"]})]})]}):"list"===o?(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(j.N,{children:t.map(e=>(0,a.jsx)(R,{workflow:{id:e.id.toString(),name:e.meta.name,description:e.meta.description,status:e.meta.status,tags:e.meta.tags||[],createdAt:e.meta.created_at,updatedAt:e.meta.updated_at},onEdit:()=>v(e.id),onDelete:()=>k(e.id),onToggle:()=>N(e.id),onDuplicate:()=>S(e.id)},e.id))}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-4 mt-4 border-t border-border",children:[(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Total ",t.length]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(b.$,{variant:"outline",size:"sm",disabled:!0,children:"‹"}),(0,a.jsx)(b.$,{variant:"outline",size:"sm",className:"bg-primary text-primary-foreground hover:bg-primary/90",children:"1"}),(0,a.jsx)(b.$,{variant:"outline",size:"sm",children:"›"}),(0,a.jsxs)("select",{className:"h-9 px-3 text-sm border border-border rounded-lg bg-background",children:[(0,a.jsx)("option",{children:"50/page"}),(0,a.jsx)("option",{children:"100/page"})]})]})]})]}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(0,a.jsx)(j.N,{children:t.map(e=>(0,a.jsx)(C.q,{workflow:{id:e.id.toString(),name:e.meta.name,description:e.meta.description,status:e.meta.status,nodes:e.graph?.nodes||[],edges:e.graph?.edges||[],tags:e.meta.tags||[],createdAt:e.meta.created_at,updatedAt:e.meta.updated_at},viewMode:o,onEdit:()=>v(e.id),onDelete:()=>k(e.id),onToggle:()=>N(e.id),onDuplicate:()=>S(e.id)},e.id))})})}),"templates"===_&&(0,a.jsx)(z,{onUseTemplate:e=>{F.vF.info("Using template:",e)}})]}),(0,a.jsx)(A,{open:E,onOpenChange:M,title:"Delete Workflow",description:`Are you sure you want to delete "${t.find(e=>e.id===P)?.meta.name||"this workflow"}"? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",onConfirm:I,variant:"danger"})]})}function B(){return(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}),children:(0,a.jsx)(G,{})})}},82778:(e,t,s)=>{Promise.resolve().then(s.bind(s,70896))},92564:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(78340).A)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]])},93242:(e,t,s)=>{"use strict";s.d(t,{As:()=>a.useAuth,of:()=>r.AIAssistantProvider,yJ:()=>r.useAIAssistant}),s(96337);var a=s(19417),r=s(61842)},96337:(e,t,s)=>{"use strict";s.d(t,{QueryProvider:()=>l});var a=s(95155),r=s(35625),i=s(93434);let n=new(s(96887)).E({defaultOptions:{queries:{staleTime:6e4,gcTime:3e5,retry:1,refetchOnWindowFocus:!1},mutations:{retry:0}}});function l({children:e}){return(0,a.jsxs)(r.Ht,{client:n,children:[e,(0,a.jsx)(i.E,{initialIsOpen:!1})]})}}},e=>{e.O(0,[4642,8702,8547,2842,5039,8500,8343,7904,2427,7152,605,1950,585,3038,8441,3794,7358],()=>e(e.s=82778)),_N_E=e.O()}]);