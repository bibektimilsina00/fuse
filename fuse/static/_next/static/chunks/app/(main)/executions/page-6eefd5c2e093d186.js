(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6147],{7915:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(78340).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},12651:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(78340).A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},17861:(e,t,s)=>{Promise.resolve().then(s.bind(s,70522))},20232:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(78340).A)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]])},25336:(e,t,s)=>{"use strict";s.d(t,{X6:()=>n,aw:()=>o,vF:()=>a});class r{constructor(e="App"){this.prefix=e}formatMessage(e,t){let s=new Date().toISOString().split("T")[1].split(".")[0];return`[${s}] [${this.prefix}] ${e}: ${t}`}debug(e,t){}info(e,t){}warn(e,t){console.warn(this.formatMessage("WARN",e),t||"")}error(e,t,s){console.error(this.formatMessage("ERROR",e),t,s||"")}child(e){return new r(`${this.prefix}:${e}`)}}let a=new r("Automation"),o=a.child("Workflow");a.child("Validation");let n=a.child("WebSocket")},30971:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(78340).A)("workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]])},34426:(e,t,s)=>{"use strict";s.d(t,{$:()=>d});var r=s(95155),a=s(12115),o=s(99873),n=s(622),i=s(42442);let l=(0,o.F)("inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 active:scale-[0.98]",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-md hover:bg-primary/90 hover:shadow-lg hover:-translate-y-0.5",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground hover:border-primary/30",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",success:"bg-emerald-600 text-white shadow-md hover:bg-emerald-700",warning:"bg-amber-500 text-white shadow-md hover:bg-amber-600"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-lg px-3 text-xs",lg:"h-11 rounded-lg px-8",xl:"h-12 rounded-xl px-10 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef(({className:e,variant:t,size:s,asChild:a=!1,loading:o=!1,children:d,disabled:c,...u},m)=>{let h=a?i.DX:"button";return(0,r.jsx)(h,{ref:m,className:(0,n.QP)(l({variant:t,size:s}),e),disabled:c||o,...u,children:o?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):d})});d.displayName="Button"},48182:(e,t,s)=>{"use strict";s.d(t,{l:()=>o,y:()=>a});var r=s(61899);let a={getWorkflows:async()=>(await r.uE.get("/workflows/")).data,getWorkflow:async e=>r.uE.get(`/workflows/${e}`),createWorkflow:async e=>r.uE.post("/workflows/",e),updateWorkflow:async(e,t)=>r.uE.patch(`/workflows/${e}`,t),deleteWorkflow:async e=>r.uE.delete(`/workflows/${e}`),async saveWorkflow(e){let{workflow_id:t,...s}=e;return console.log("[DEBUG] Save workflow request:",JSON.stringify(s,null,2)),r.uE.post(`/workflows/${t}/save`,s)},executeWorkflow:async e=>r.uE.post(`/workflows/${e}/execute`),getNodeTypes:async()=>r.uE.get("/workflows/nodes/types"),generateWithAI:async e=>r.uE.post("/workflows/ai/generate",e),executeNode:async(e,t,s={})=>r.uE.post(`/workflows/${e}/nodes/${t}/execute`,{input_data:s}),activateWorkflow:async e=>r.uE.post(`/workflows/${e}/activate`),deactivateWorkflow:async e=>r.uE.post(`/workflows/${e}/deactivate`),getNodeOptions:async(e,t,s={})=>r.uE.post("/workflows/node/options",{node_type:e,method_name:t,dependency_values:s}),executeCode:async(e,t,s={})=>r.uE.post("/workflows/execute-code",{code:e,language:t,input_data:s}),getDebugWorkflows:async()=>r.uE.get("/workflows/debug/workflows"),getDebugWorkflow:async e=>r.uE.get(`/workflows/debug/workflows/${e}`)},o=a},60285:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(78340).A)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},61878:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(78340).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},61899:(e,t,s)=>{"use strict";s.d(t,{hs:()=>a,uE:()=>d});var r=s(25336);let a="http://localhost:5678/api/v1",o={maxRetries:3,baseDelayMs:1e3,maxDelayMs:1e4,retryableStatuses:[408,429,500,502,503,504]};function n(e,t){let s=t.baseDelayMs*Math.pow(2,e),r=.3*Math.random()*s;return Math.min(s+r,t.maxDelayMs)}function i(e){return new Promise(t=>setTimeout(t,e))}class l{constructor(){this.token=null,this.retryConfig=o,this.token=localStorage.getItem("auth_token")}static getInstance(){return l.instance||(l.instance=new l),l.instance}setToken(e){this.token=e,e?localStorage.setItem("auth_token",e):localStorage.removeItem("auth_token")}getToken(){return this.token}setRetryConfig(e){this.retryConfig={...this.retryConfig,...e}}async request(e,t={},s=0){let o={"Content-Type":"application/json","X-Request-ID":0===s?crypto.randomUUID?crypto.randomUUID():`${Date.now()}-${Math.random().toString(36).substring(2,11)}`:t.headers?.["X-Request-ID"],...t.headers};this.token&&(o.Authorization=`Bearer ${this.token}`);try{var l;let d=await fetch(`${a}${e}`,{...t,headers:o});if(429===d.status){let a=d.headers.get("Retry-After");if(a&&s<this.retryConfig.maxRetries){let o=1e3*parseInt(a,10)||n(s,this.retryConfig);return r.vF.warn(`Rate limited on ${e}. Retrying after ${o}ms (attempt ${s+1})`),await i(o),this.request(e,t,s+1)}}if(!d.ok&&(l=d.status,this.retryConfig.retryableStatuses.includes(l))&&s<this.retryConfig.maxRetries){let a=n(s,this.retryConfig);return r.vF.warn(`Request failed with ${d.status} on ${e}. Retrying after ${a}ms (attempt ${s+1})`),await i(a),this.request(e,t,s+1)}if(!d.ok){let e,t=await d.json().catch(()=>({detail:"An error occurred"}));throw e=Array.isArray(t.detail)?t.detail.map(e=>e.msg||e.message||"Validation error").join(". "):"string"==typeof t.detail?t.detail:t.detail?.msg?t.detail.msg:t.message?t.message:`HTTP error! status: ${d.status}`,Error(e)}return d.json()}catch(o){let a=e.includes("/users/me")||e.includes("/login");if(o instanceof TypeError&&"Failed to fetch"===o.message&&s<this.retryConfig.maxRetries&&!a){let a=n(s,this.retryConfig);return r.vF.warn(`Network error on ${e}. Retrying after ${a}ms (attempt ${s+1})`),await i(a),this.request(e,t,s+1)}throw o}}async get(e){return this.request(e,{method:"GET"})}async post(e,t){return this.request(e,{method:"POST",body:t?JSON.stringify(t):void 0})}async postFormData(e,t){let s={"Content-Type":"application/x-www-form-urlencoded"};this.token&&(s.Authorization=`Bearer ${this.token}`);let r=await fetch(`${a}${e}`,{method:"POST",headers:s,body:t});if(!r.ok){let e=await r.json().catch(()=>({detail:"An error occurred"}));throw Error(Array.isArray(e.detail)?e.detail.map(e=>e.msg||e.message||"Validation error").join(". "):"string"==typeof e.detail?e.detail:e.detail?.msg?e.detail.msg:e.message?e.message:`HTTP error! status: ${r.status}`)}return r.json()}async put(e,t){return this.request(e,{method:"PUT",body:JSON.stringify(t)})}async patch(e,t){return this.request(e,{method:"PATCH",body:JSON.stringify(t)})}async delete(e){return this.request(e,{method:"DELETE"})}}let d=l.getInstance()},62791:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(78340).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},70522:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>N});var r=s(95155),a=s(12115),o=s(32842),n=s(9673),i=s(12651),l=s(62791),d=s(91958),c=s(84980),u=s(30971),m=s(60285),h=s(7915),x=s(61878),g=s(92622),f=s(20232),p=s(34426),w=s(48182),y=s(91337),v=s(98500),k=s.n(v);function j({status:e}){let t={completed:{icon:(0,r.jsx)(i.A,{className:"h-3.5 w-3.5"}),className:"status-active"},failed:{icon:(0,r.jsx)(l.A,{className:"h-3.5 w-3.5"}),className:"status-error"},running:{icon:(0,r.jsx)(d.A,{className:"h-3.5 w-3.5 animate-spin"}),className:"status-running"},pending:{icon:(0,r.jsx)(c.A,{className:"h-3.5 w-3.5"}),className:"status-draft"}},s=t[e]||t.pending;return(0,r.jsxs)("span",{className:(0,y.cn)("inline-flex items-center gap-1.5 text-xs font-medium px-2.5 py-1 rounded-full border",s.className),children:[s.icon,e.charAt(0).toUpperCase()+e.slice(1)]})}function b({execution:e}){let[t,s]=(0,a.useState)(!1);return(0,r.jsx)(n.P.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"group bg-card border border-border rounded-xl p-4 hover:border-primary/30 transition-all",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:(0,y.cn)("h-10 w-10 rounded-xl flex items-center justify-center","completed"===e.status?"bg-emerald-500/20":"failed"===e.status?"bg-red-500/20":"running"===e.status?"bg-sky-500/20":"bg-muted"),children:(0,r.jsx)(u.A,{className:(0,y.cn)("h-5 w-5","completed"===e.status?"text-emerald-500":"failed"===e.status?"text-red-500":"running"===e.status?"text-sky-500":"text-muted-foreground")})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium text-foreground",children:e.workflow_name}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground mt-0.5",children:["Started ",new Date(e.started_at).toLocaleString()]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"text-right hidden md:block",children:(0,r.jsx)("span",{className:"text-xs font-mono text-muted-foreground bg-muted px-2 py-1 rounded",children:e.duration||"â€”"})}),(0,r.jsx)(j,{status:e.status}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(p.$,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>s(!t),children:(0,r.jsx)(m.A,{className:"h-4 w-4"})}),t&&(0,r.jsxs)("div",{className:"absolute right-0 top-full mt-1 bg-card border border-border rounded-lg shadow-lg z-10 py-1 min-w-[140px]",children:[(0,r.jsxs)(k(),{href:`/workflows/${e.workflow_id}?execution=${e.id}`,className:"w-full flex items-center gap-2 px-3 py-2 text-sm hover:bg-muted transition-colors",onClick:()=>s(!1),children:[(0,r.jsx)(h.A,{className:"h-4 w-4"}),"View Details"]}),(0,r.jsxs)("button",{className:"w-full flex items-center gap-2 px-3 py-2 text-sm hover:bg-muted transition-colors",children:[(0,r.jsx)(d.A,{className:"h-4 w-4"}),"Retry"]})]})]})]})]})})}function N(){let[e,t]=(0,a.useState)(""),[s,n]=(0,a.useState)("all"),{data:i=[]}=(0,o.I)({queryKey:["workflows"],queryFn:()=>w.l.getWorkflows()}),l=i.flatMap((e,t)=>Array.from({length:Math.floor(3*Math.random())+1},(t,s)=>({id:`exec-${e.id}-${s}`,workflow_id:e.id,workflow_name:e.meta.name,status:["completed","completed","completed","failed","running"][Math.floor(5*Math.random())],started_at:new Date(Date.now()-864e5*Math.random()*7).toISOString(),completed_at:new Date().toISOString(),duration:`${(5*Math.random()+.5).toFixed(1)}s`,nodes_count:Math.floor(10*Math.random())+1}))).sort((e,t)=>new Date(t.started_at).getTime()-new Date(e.started_at).getTime()),d=l.filter(t=>{let r=t.workflow_name.toLowerCase().includes(e.toLowerCase()),a="all"===s||t.status===s;return r&&a}),c={total:l.length,completed:l.filter(e=>"completed"===e.status).length,failed:l.filter(e=>"failed"===e.status).length,running:l.filter(e=>"running"===e.status).length};return(0,r.jsxs)("div",{className:"space-y-8 max-w-[1600px] mx-auto",children:[(0,r.jsx)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold tracking-tight",children:"Executions"}),(0,r.jsx)("p",{className:"text-muted-foreground text-sm mt-1",children:"Monitor and manage your workflow executions"})]})}),(0,r.jsx)("div",{className:"rounded-lg border border-border bg-card p-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-0 md:divide-x divide-border",children:[(0,r.jsxs)("div",{className:"px-4 first:pl-0",children:[(0,r.jsx)("span",{className:"text-xs text-muted-foreground",children:"Total"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("span",{className:"text-xl font-semibold",children:c.total})})]}),(0,r.jsxs)("div",{className:"px-4",children:[(0,r.jsx)("span",{className:"text-xs text-muted-foreground",children:"Completed"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("span",{className:"text-xl font-semibold text-emerald-500",children:c.completed})})]}),(0,r.jsxs)("div",{className:"px-4",children:[(0,r.jsx)("span",{className:"text-xs text-muted-foreground",children:"Failed"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("span",{className:"text-xl font-semibold text-red-500",children:c.failed})})]}),(0,r.jsxs)("div",{className:"px-4 last:pr-0",children:[(0,r.jsx)("span",{className:"text-xs text-muted-foreground",children:"Running"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("span",{className:"text-xl font-semibold text-sky-500",children:c.running})})]})]})}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,r.jsx)(x.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,r.jsx)("input",{type:"text",placeholder:"Search executions...",value:e,onChange:e=>t(e.target.value),className:"search-input w-full !pl-9"})]}),(0,r.jsxs)("select",{value:s,onChange:e=>n(e.target.value),className:"h-9 px-3 text-sm border border-border rounded-lg bg-background",children:[(0,r.jsx)("option",{value:"all",children:"All Status"}),(0,r.jsx)("option",{value:"completed",children:"Completed"}),(0,r.jsx)("option",{value:"failed",children:"Failed"}),(0,r.jsx)("option",{value:"running",children:"Running"}),(0,r.jsx)("option",{value:"pending",children:"Pending"})]}),(0,r.jsxs)(p.$,{variant:"outline",size:"sm",className:"gap-2",children:[(0,r.jsx)(g.A,{className:"h-4 w-4"}),"More Filters"]})]}),0===d.length?(0,r.jsxs)("div",{className:"empty-state",children:[(0,r.jsx)("div",{className:"empty-state-icon",children:(0,r.jsx)(f.A,{className:"h-8 w-8 text-muted-foreground"})}),(0,r.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No executions yet"}),(0,r.jsx)("p",{className:"text-muted-foreground text-sm mb-6 max-w-sm",children:"Run your first workflow to see execution history here"}),(0,r.jsx)(k(),{href:"/workflows",children:(0,r.jsxs)(p.$,{children:[(0,r.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"View Workflows"]})})]}):(0,r.jsxs)("div",{className:"space-y-3",children:[d.map(e=>(0,r.jsx)(b,{execution:e},e.id)),(0,r.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-border",children:[(0,r.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Showing ",d.length," of ",l.length," executions"]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(p.$,{variant:"outline",size:"sm",disabled:!0,children:"Previous"}),(0,r.jsx)(p.$,{variant:"outline",size:"sm",className:"bg-primary text-primary-foreground",children:"1"}),(0,r.jsx)(p.$,{variant:"outline",size:"sm",children:"Next"})]})]})]})]})}},84980:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(78340).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},91337:(e,t,s)=>{"use strict";s.d(t,{cn:()=>o});var r=s(76910),a=s(622);function o(...e){return(0,a.QP)((0,r.$)(e))}},91958:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(78340).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},92622:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(78340).A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])}},e=>{e.O(0,[8547,2842,5039,8500,8441,3794,7358],()=>e(e.s=17861)),_N_E=e.O()}]);