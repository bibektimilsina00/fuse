(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3274],{37588:(e,t,s)=>{"use strict";s.d(t,{P:()=>b});var a=s(95155),r=s(12115),l=s(80642),n=s(9673),o=s(32842),i=s(52905),d=s(66088),c=s(61878),m=s(94514),u=s(51914),x=s(36642),p=s(21950),h=s(91337),g=s(47650);let f={google_sheets:"\uD83D\uDCCA",slack:"\uD83D\uDCAC",discord:"\uD83C\uDFAE",ai_provider:"\uD83E\uDD16",webhook:"\uD83D\uDD17",api_key:"\uD83D\uDD11",database:"\uD83D\uDDC4️",github:"\uD83D\uDC19",default:"\uD83D\uDD10"};function b({value:e,onChange:t,filterType:s,placeholder:b="Select credential",className:j}){let[y,N]=(0,r.useState)(!1),[w,v]=(0,r.useState)(""),[k,C]=(0,r.useState)(!1),[A,S]=(0,r.useState)({top:0,left:0,width:0}),I=(0,r.useRef)(null),E=(0,r.useRef)(null),{data:D=[],isLoading:_}=(0,o.I)({queryKey:["credentials"],queryFn:()=>x.H.getCredentials()}),F=D.filter(e=>{let t=!s||e.type===s,a=e.name.toLowerCase().includes(w.toLowerCase());return t&&a}),T=D.find(t=>t.id===e);return(0,r.useEffect)(()=>{if(y&&I.current){let e=I.current.getBoundingClientRect();S({top:e.bottom+window.scrollY+8,left:e.left+window.scrollX,width:e.width})}},[y]),(0,r.useEffect)(()=>{function e(e){E.current&&!E.current.contains(e.target)&&I.current&&!I.current.contains(e.target)&&N(!1)}if(y)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[y]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:(0,h.cn)("relative",j),children:(0,a.jsxs)("button",{ref:I,type:"button",onClick:()=>N(!y),className:(0,h.cn)("w-full flex items-center justify-between gap-2 px-3 py-2.5 bg-background border border-border rounded-lg hover:border-primary/50 transition-all text-sm",y&&"border-primary ring-2 ring-primary/20"),children:[(0,a.jsx)("div",{className:"flex items-center gap-2.5 min-w-0 flex-1",children:T?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-base shrink-0",children:f[T.type]||f.default}),(0,a.jsx)("span",{className:"text-sm font-medium truncate",children:T.name})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.A,{className:"h-4 w-4 text-muted-foreground shrink-0"}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground truncate",children:b})]})}),(0,a.jsx)(d.A,{className:(0,h.cn)("h-4 w-4 text-muted-foreground transition-transform shrink-0",y&&"rotate-180")})]})}),y&&(0,g.createPortal)((0,a.jsx)(l.N,{children:(0,a.jsxs)(n.P.div,{ref:E,initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.15,ease:"easeOut"},style:{position:"absolute",top:A.top,left:A.left,width:A.width,zIndex:9999},className:"bg-card border border-border rounded-xl shadow-2xl overflow-hidden",children:[(0,a.jsx)("div",{className:"p-3 border-b border-border bg-muted/20",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(c.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)("input",{type:"text",value:w,onChange:e=>v(e.target.value),placeholder:"Search credentials...",autoFocus:!0,className:"w-full pl-9 pr-3 py-2 bg-background border border-border rounded-lg text-sm focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all",onClick:e=>e.stopPropagation()})]})}),(0,a.jsx)("div",{className:"max-h-[280px] overflow-y-auto custom-scrollbar",children:_?(0,a.jsx)("div",{className:"p-8 text-center",children:(0,a.jsxs)("div",{className:"inline-flex items-center gap-2 text-sm text-muted-foreground",children:[(0,a.jsx)("div",{className:"h-4 w-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),"Loading..."]})}):0===F.length?(0,a.jsxs)("div",{className:"p-8 text-center",children:[(0,a.jsx)("div",{className:"h-12 w-12 rounded-full bg-muted/50 flex items-center justify-center mx-auto mb-3",children:(0,a.jsx)(i.A,{className:"h-6 w-6 text-muted-foreground"})}),(0,a.jsx)("p",{className:"text-sm font-medium text-foreground mb-1",children:w?"No credentials found":"No credentials yet"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:w?"Try a different search":"Create your first credential below"})]}):(0,a.jsx)("div",{className:"py-1",children:F.map(s=>(0,a.jsxs)("button",{type:"button",onClick:()=>{t(s.id),N(!1),v("")},className:(0,h.cn)("w-full flex items-center justify-between gap-3 px-3 py-2.5 hover:bg-muted/50 transition-all text-left group",e===s.id&&"bg-primary/10 hover:bg-primary/15"),children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[(0,a.jsx)("div",{className:(0,h.cn)("h-9 w-9 rounded-lg flex items-center justify-center text-lg shrink-0 transition-all",e===s.id?"bg-primary/20":"bg-muted group-hover:bg-muted/80"),children:f[s.type]||f.default}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium truncate text-foreground",children:s.name}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground capitalize",children:s.type.replace("_"," ")})]})]}),e===s.id&&(0,a.jsx)(m.A,{className:"h-4 w-4 text-primary shrink-0"})]},s.id))})}),(0,a.jsx)("div",{className:"p-2 border-t border-border bg-gradient-to-b from-transparent to-muted/30",children:(0,a.jsxs)("button",{type:"button",onClick:()=>{C(!0),N(!1)},className:"w-full flex items-center justify-center gap-2 px-3 py-2.5 rounded-lg bg-primary/10 hover:bg-primary/20 text-primary transition-all text-sm font-medium group",children:[(0,a.jsx)("div",{className:"h-5 w-5 rounded-md bg-primary/20 group-hover:bg-primary/30 flex items-center justify-center transition-all",children:(0,a.jsx)(u.A,{className:"h-3.5 w-3.5"})}),"Create new credential"]})})]})}),document.body),(0,a.jsx)(p.X,{isOpen:k,onClose:()=>C(!1),onSuccess:e=>{t(e),C(!1),N(!1)},defaultType:s||"api_key"})]})}},58642:(e,t,s)=>{Promise.resolve().then(s.bind(s,86690))},86690:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>S});var a=s(95155),r=s(12115),l=s(86901),n=s(65576),o=s(6296),i=s(56204),d=s(85024),c=s(91337),m=s(33210);let u=d.bL,x=d.l9,p=d.ZL;d.bm;let h=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(d.hJ,{ref:s,className:(0,c.cn)("fixed inset-0 z-50 bg-black/50 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));h.displayName=d.hJ.displayName;let g=r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(p,{children:[(0,a.jsx)(h,{}),(0,a.jsxs)(d.UC,{ref:r,className:(0,c.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-card p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-lg",e),...s,children:[t,(0,a.jsxs)(d.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(m.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));g.displayName=d.UC.displayName;let f=({className:e,...t})=>(0,a.jsx)("div",{className:(0,c.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});f.displayName="DialogHeader";let b=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(d.hE,{ref:s,className:(0,c.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));b.displayName=d.hE.displayName;let j=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(d.VY,{ref:s,className:(0,c.cn)("text-sm text-muted-foreground",e),...t}));j.displayName=d.VY.displayName;var y=s(34426),N=s(37588),w=s(25336);let v=[{id:"openai/gpt-4o-mini",label:"GPT-4o Mini"},{id:"openai/gpt-4o",label:"GPT-4o"},{id:"anthropic/claude-3-5-sonnet",label:"Claude 3.5 Sonnet"},{id:"google/gemini-2.0-flash",label:"Gemini 2.0 Flash"},{id:"deepseek/deepseek-r1",label:"DeepSeek R1"}];function k({trigger:e,title:t="Create Workflow with AI",description:s="Describe your automation workflow and AI will generate it for you.",placeholder:d='E.g., "When I receive a WhatsApp message, extract the order details and add them to Google Sheets"',onSubmit:m,className:p,open:h,onOpenChange:k}){let{open:C,setOpen:A,prompt:S,setPrompt:I,model:E,setModel:D,credentialId:_,setCredentialId:F,isLoading:T,handleSubmit:z,handleKeyDown:P,setSuggestion:L}=function({onSubmit:e,onSuccess:t,defaultOpen:s=!1,open:a,onOpenChange:l}={}){let[n,o]=(0,r.useState)(s),[i,d]=(0,r.useState)(""),[c,m]=(0,r.useState)("openai/gpt-4o-mini"),[u,x]=(0,r.useState)(""),[p,h]=(0,r.useState)(!1),g=void 0!==a,f=g?a:n,b=(0,r.useCallback)(e=>{g?l?.(e):o(e)},[g,l]),j=(0,r.useCallback)(async s=>{if(s?.preventDefault(),i.trim()&&!p){h(!0);try{await e?.(i.trim(),c,u||void 0),d(""),b(!1),t?.()}catch(e){w.vF.error("AI creation failed",e)}finally{h(!1)}}},[i,c,u,p,e,t,b]),y=(0,r.useCallback)(e=>{"Enter"===e.key&&(e.metaKey||e.ctrlKey)&&j()},[j]),N=(0,r.useCallback)(e=>{d(e)},[]);return{open:f,setOpen:b,prompt:i,setPrompt:d,model:c,setModel:m,credentialId:u,setCredentialId:x,isLoading:p,handleSubmit:j,handleKeyDown:y,setSuggestion:N}}({onSubmit:m,open:h,onOpenChange:k}),R=r.useRef(null);return r.useEffect(()=>{R.current&&(R.current.style.height="auto",R.current.style.height=R.current.scrollHeight+"px")},[S]),r.useEffect(()=>{C&&R.current&&setTimeout(()=>R.current?.focus(),100)},[C]),(0,a.jsxs)(u,{open:C,onOpenChange:A,children:[(0,a.jsx)(x,{asChild:!0,children:e||(0,a.jsxs)(y.$,{className:p,children:[(0,a.jsx)(l.A,{className:"h-4 w-4 mr-2"}),"Create with AI"]})}),(0,a.jsxs)(g,{className:"sm:max-w-[580px]",children:[(0,a.jsxs)(f,{children:[(0,a.jsxs)(b,{className:"flex items-center gap-2",children:[(0,a.jsx)(l.A,{className:"h-5 w-5 text-primary"}),t]}),(0,a.jsx)(j,{children:s})]}),(0,a.jsxs)("form",{onSubmit:z,className:"space-y-4 mt-2",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"text-xs font-semibold text-muted-foreground flex items-center gap-1.5 uppercase tracking-wider",children:[(0,a.jsx)(n.A,{className:"h-3 w-3"})," Model"]}),(0,a.jsx)("select",{value:E,onChange:e=>D(e.target.value),className:"w-full bg-background border border-border rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-primary/50 outline-none",disabled:T,children:v.map(e=>(0,a.jsx)("option",{value:e.id,children:e.label},e.id))})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"AI Credential"}),(0,a.jsx)(N.P,{value:_,onChange:F,filterType:"ai_provider",placeholder:"System Default"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{htmlFor:"ai-prompt",className:"text-sm font-medium",children:"Describe your workflow"}),(0,a.jsx)("textarea",{id:"ai-prompt",ref:R,value:S,onChange:e=>I(e.target.value),onKeyDown:P,placeholder:d,className:(0,c.cn)("w-full min-h-[140px] max-h-[300px] px-4 py-3 rounded-lg","bg-background border border-border","focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary","placeholder:text-muted-foreground/60","resize-none transition-all","text-sm leading-relaxed"),disabled:T})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Try these examples:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:["Send Gmail summary to WhatsApp daily","Log WhatsApp orders to Google Sheets","Email me when new row added to Sheets"].map(e=>(0,a.jsx)("button",{type:"button",onClick:()=>L(e),disabled:T,className:(0,c.cn)("px-3 py-1.5 text-xs rounded-md","bg-muted hover:bg-muted/80 text-foreground","border border-border hover:border-primary/50","transition-colors","disabled:opacity-50 disabled:cursor-not-allowed"),children:e},e))})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-3 pt-2",children:[(0,a.jsx)(y.$,{type:"button",variant:"outline",onClick:()=>A(!1),disabled:T,children:"Cancel"}),(0,a.jsx)(y.$,{type:"submit",disabled:!S.trim()||T,children:T?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Generating..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.A,{className:"h-4 w-4 mr-2"}),"Generate Workflow"]})})]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground text-center pt-2",children:["Press"," ",(0,a.jsx)("kbd",{className:"px-1.5 py-0.5 rounded bg-muted text-foreground font-mono text-[10px]",children:"⌘ Enter"})," ","to generate"]})]})]})]})}var C=s(34220),A=s(53961);function S(){let e=async e=>{w.vF.info("Creating with AI:",{prompt:e}),await new Promise(e=>setTimeout(e,2e3)),alert(`AI will create: ${e}`)};return(0,a.jsx)("div",{className:"min-h-screen bg-background p-8",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto space-y-12",children:[(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold tracking-tight",children:"AI Create Dialog Examples"}),(0,a.jsx)("p",{className:"text-muted-foreground text-lg",children:"Different variations of the AI creation button and dialog"})]}),(0,a.jsxs)("div",{className:"grid gap-8 md:grid-cols-2",children:[(0,a.jsxs)("div",{className:"glass p-6 rounded-lg space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Default Button"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"The default AI creation button with animated gradient on hover"}),(0,a.jsx)(k,{onSubmit:e})]}),(0,a.jsxs)("div",{className:"glass p-6 rounded-lg space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Large Button"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Custom trigger with larger size"}),(0,a.jsx)(k,{trigger:(0,a.jsxs)(y.$,{size:"lg",className:"w-full group",children:[(0,a.jsx)(C.A,{className:"h-5 w-5 mr-2 group-hover:rotate-12 transition-transform"}),"Create Workflow with AI"]}),onSubmit:e})]}),(0,a.jsxs)("div",{className:"glass p-6 rounded-lg space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Outline Variant"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Outline button style for secondary actions"}),(0,a.jsx)(k,{trigger:(0,a.jsxs)(y.$,{variant:"outline",className:"w-full",children:[(0,a.jsx)(l.A,{className:"h-4 w-4 mr-2"}),"AI Assistant"]}),title:"AI Assistant",description:"Tell me what you need help with",placeholder:"E.g., Help me automate my email responses...",onSubmit:e})]}),(0,a.jsxs)("div",{className:"glass p-6 rounded-lg space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Icon Button"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Compact icon-only button"}),(0,a.jsx)(k,{trigger:(0,a.jsx)(y.$,{size:"icon",variant:"outline",children:(0,a.jsx)(A.A,{className:"h-4 w-4"})}),onSubmit:e})]}),(0,a.jsxs)("div",{className:"glass p-6 rounded-lg space-y-4 md:col-span-2",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Custom Card Trigger"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Use any custom element as a trigger"}),(0,a.jsx)(k,{trigger:(0,a.jsx)("button",{className:"w-full p-6 rounded-lg bg-gradient-to-br from-primary/10 to-purple-500/10 border border-primary/20 hover:border-primary/40 transition-all group text-left",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("h4",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,a.jsx)(l.A,{className:"h-5 w-5 text-primary"}),"Start with AI"]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Describe your automation and let AI build it"})]}),(0,a.jsx)("div",{className:"h-12 w-12 rounded-full bg-primary/20 flex items-center justify-center group-hover:bg-primary group-hover:text-primary-foreground transition-colors",children:(0,a.jsx)(C.A,{className:"h-6 w-6"})})]})}),onSubmit:e})]})]}),(0,a.jsxs)("div",{className:"glass p-8 rounded-lg space-y-4",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold",children:"Integration Example"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Here's how to integrate the AI Create Dialog into your dashboard:"}),(0,a.jsx)("pre",{className:"bg-background/50 p-4 rounded-lg overflow-x-auto text-sm",children:(0,a.jsx)("code",{children:`import { AICreateDialog } from '@/components/ui/AICreateDialog'

// In your dashboard component:
<AICreateDialog 
  onSubmit={async (prompt) => {
    // Send to your AI service
    const workflow = await createWorkflowWithAI(prompt)
    // Navigate to editor
    router.push(\`/workflows/\${workflow.id}\`)
  }}
/>`})})]})]})})}}},e=>{e.O(0,[8547,2842,5039,7904,2427,6751,1950,8441,3794,7358],()=>e(e.s=58642)),_N_E=e.O()}]);