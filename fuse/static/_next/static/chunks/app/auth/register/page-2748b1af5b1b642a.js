(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[983],{13545:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(78340).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},18300:(e,t,r)=>{"use strict";r.d(t,{iZ:()=>c,vz:()=>d,Wn:()=>h,LR:()=>u});var s=r(32842),a=r(35625),n=r(48934),i=r(61899);let l={async login(e){let t=new URLSearchParams;t.append("username",e.email),t.append("password",e.password);let r=await i.uE.postFormData("/login/access-token",t);return i.uE.setToken(r.access_token),r},register:async e=>i.uE.post("/register",e),getCurrentUser:async()=>i.uE.get("/users/me"),logout(){i.uE.setToken(null)}},o={all:["auth"],currentUser:()=>[...o.all,"current-user"]};function c(){return(0,s.I)({queryKey:o.currentUser(),queryFn:l.getCurrentUser,retry:!1,staleTime:3e5,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1})}function d(){let e=(0,a.jE)();return(0,n.n)({mutationFn:e=>l.login(e),onSuccess:()=>{e.invalidateQueries({queryKey:o.currentUser()})}})}function u(){let e=(0,a.jE)();return(0,n.n)({mutationFn:e=>l.register(e),onSuccess:()=>{e.invalidateQueries({queryKey:o.currentUser()})}})}function h(){let e=(0,a.jE)();return(0,n.n)({mutationFn:()=>(l.logout(),Promise.resolve()),onSuccess:()=>{e.clear()}})}},25336:(e,t,r)=>{"use strict";r.d(t,{X6:()=>i,aw:()=>n,vF:()=>a});class s{constructor(e="App"){this.prefix=e}formatMessage(e,t){let r=new Date().toISOString().split("T")[1].split(".")[0];return`[${r}] [${this.prefix}] ${e}: ${t}`}debug(e,t){}info(e,t){}warn(e,t){console.warn(this.formatMessage("WARN",e),t||"")}error(e,t,r){console.error(this.formatMessage("ERROR",e),t,r||"")}child(e){return new s(`${this.prefix}:${e}`)}}let a=new s("Automation"),n=a.child("Workflow");a.child("Validation");let i=a.child("WebSocket")},25777:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(78340).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},34426:(e,t,r)=>{"use strict";r.d(t,{$:()=>c});var s=r(95155),a=r(12115),n=r(99873),i=r(622),l=r(42442);let o=(0,n.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-md hover:bg-primary/90 hover:shadow-lg hover:-translate-y-0.5 transition-all duration-200",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,children:n,...c},d)=>{let u=a?l.DX:"button";return(0,s.jsx)(u,{ref:d,className:(0,i.QP)(o({variant:t,size:r}),e),...c,children:n})});c.displayName="Button"},40155:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var s=r(95155),a=r(12115),n=r(73321),i=r(98500),l=r.n(i),o=r(9673);let c=(0,r(78340).A)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var d=r(13545),u=r(52484),h=r(42869),m=r(92289),x=r(25777),y=r(34426),g=r(59210),p=r(18300);function f(){let e=(0,n.useRouter)(),[t,r]=(0,a.useState)(""),[i,f]=(0,a.useState)(""),[b,k]=(0,a.useState)(""),v=(0,p.LR)(),w=(0,p.vz)(),j=async r=>{r.preventDefault();try{await v.mutateAsync({email:t,password:i,full_name:b||void 0}),await w.mutateAsync({email:t,password:i}),e.push("/dashboard")}catch(e){console.error("Registration failed:",e)}};return(0,s.jsx)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:(0,s.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 border border-slate-200 dark:border-slate-700",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-purple-100 dark:bg-purple-900/30 rounded-full mb-4",children:(0,s.jsx)(c,{className:"h-8 w-8 text-purple-600 dark:text-purple-400"})}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-2",children:"Create Account"}),(0,s.jsx)("p",{className:"text-slate-600 dark:text-slate-400",children:"Get started with your automation journey"})]}),(0,s.jsxs)("form",{onSubmit:j,className:"space-y-4",children:[v.isError&&(0,s.jsxs)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3 flex items-start gap-2",children:[(0,s.jsx)(d.A,{className:"h-5 w-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),(0,s.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:v.error?.message||"Registration failed. Please try again."})]}),v.isSuccess&&(0,s.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-3 flex items-start gap-2",children:[(0,s.jsx)(u.A,{className:"h-5 w-5 text-green-600 dark:text-green-400 flex-shrink-0 mt-0.5"}),(0,s.jsx)("p",{className:"text-sm text-green-600 dark:text-green-400",children:"Account created successfully! Redirecting..."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Full Name"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(h.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400"}),(0,s.jsx)(g.p,{type:"text",value:b,onChange:e=>k(e.target.value),placeholder:"John Doe",className:"pl-10"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Email"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(m.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400"}),(0,s.jsx)(g.p,{type:"email",value:t,onChange:e=>r(e.target.value),placeholder:"you@example.com",className:"pl-10",required:!0})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(x.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400"}),(0,s.jsx)(g.p,{type:"password",value:i,onChange:e=>f(e.target.value),placeholder:"••••••••",className:"pl-10",required:!0,minLength:8})]}),(0,s.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Must be at least 8 characters"})]}),(0,s.jsx)(y.$,{type:"submit",className:"w-full",disabled:v.isPending||w.isPending,children:v.isPending||w.isPending?(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Creating account..."]}):"Create Account"})]}),(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsxs)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Already have an account?"," ",(0,s.jsx)(l(),{href:"/auth/login",className:"text-purple-600 dark:text-purple-400 hover:underline font-medium",children:"Sign in"})]})})]})})}},42869:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(78340).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},52484:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(78340).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},59210:(e,t,r)=>{"use strict";r.d(t,{p:()=>o});var s=r(95155),a=r(12115),n=r(99873),i=r(622);let l=(0,n.F)("block w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm dark:bg-slate-800 dark:border-slate-700 dark:text-slate-100",{variants:{size:{sm:"py-1.5 text-sm",md:"py-2 text-sm",lg:"py-3 text-base"}},defaultVariants:{size:"md"}}),o=a.forwardRef(({className:e,size:t,...r},a)=>(0,s.jsx)("input",{ref:a,className:(0,i.QP)(l({size:t}),e),...r}));o.displayName="Input"},61899:(e,t,r)=>{"use strict";r.d(t,{hs:()=>a,uE:()=>c});var s=r(25336);let a="http://localhost:5678/api/v1",n={maxRetries:3,baseDelayMs:1e3,maxDelayMs:1e4,retryableStatuses:[408,429,500,502,503,504]};function i(e,t){let r=t.baseDelayMs*Math.pow(2,e),s=.3*Math.random()*r;return Math.min(r+s,t.maxDelayMs)}function l(e){return new Promise(t=>setTimeout(t,e))}class o{constructor(){this.token=null,this.retryConfig=n,this.token=localStorage.getItem("auth_token")}static getInstance(){return o.instance||(o.instance=new o),o.instance}setToken(e){this.token=e,e?localStorage.setItem("auth_token",e):localStorage.removeItem("auth_token")}getToken(){return this.token}setRetryConfig(e){this.retryConfig={...this.retryConfig,...e}}async request(e,t={},r=0){let n={"Content-Type":"application/json","X-Request-ID":0===r?crypto.randomUUID?crypto.randomUUID():`${Date.now()}-${Math.random().toString(36).substring(2,11)}`:t.headers?.["X-Request-ID"],...t.headers};this.token&&(n.Authorization=`Bearer ${this.token}`);try{var o;let c=await fetch(`${a}${e}`,{...t,headers:n});if(429===c.status){let a=c.headers.get("Retry-After");if(a&&r<this.retryConfig.maxRetries){let n=1e3*parseInt(a,10)||i(r,this.retryConfig);return s.vF.warn(`Rate limited on ${e}. Retrying after ${n}ms (attempt ${r+1})`),await l(n),this.request(e,t,r+1)}}if(!c.ok&&(o=c.status,this.retryConfig.retryableStatuses.includes(o))&&r<this.retryConfig.maxRetries){let a=i(r,this.retryConfig);return s.vF.warn(`Request failed with ${c.status} on ${e}. Retrying after ${a}ms (attempt ${r+1})`),await l(a),this.request(e,t,r+1)}if(!c.ok){let e=await c.json().catch(()=>({detail:"An error occurred"}));throw Error(e.detail||`HTTP error! status: ${c.status}`)}return c.json()}catch(n){let a=e.includes("/users/me")||e.includes("/login");if(n instanceof TypeError&&"Failed to fetch"===n.message&&r<this.retryConfig.maxRetries&&!a){let a=i(r,this.retryConfig);return s.vF.warn(`Network error on ${e}. Retrying after ${a}ms (attempt ${r+1})`),await l(a),this.request(e,t,r+1)}throw n}}async get(e){return this.request(e,{method:"GET"})}async post(e,t){return this.request(e,{method:"POST",body:t?JSON.stringify(t):void 0})}async postFormData(e,t){let r={"Content-Type":"application/x-www-form-urlencoded"};this.token&&(r.Authorization=`Bearer ${this.token}`);let s=await fetch(`${a}${e}`,{method:"POST",headers:r,body:t});if(!s.ok)throw Error((await s.json().catch(()=>({detail:"An error occurred"}))).detail||`HTTP error! status: ${s.status}`);return s.json()}async put(e,t){return this.request(e,{method:"PUT",body:JSON.stringify(t)})}async patch(e,t){return this.request(e,{method:"PATCH",body:JSON.stringify(t)})}async delete(e){return this.request(e,{method:"DELETE"})}}let c=o.getInstance()},78333:(e,t,r)=>{Promise.resolve().then(r.bind(r,40155))},92289:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(78340).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])}},e=>{e.O(0,[547,275,361,393,441,794,358],()=>e(e.s=78333)),_N_E=e.O()}]);