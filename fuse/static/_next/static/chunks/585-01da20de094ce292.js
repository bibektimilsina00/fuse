"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[585],{18346:(e,t,r)=>{r.d(t,{AM:()=>f,H8:()=>h,Ij:()=>y,MS:()=>w,Q8:()=>v,QB:()=>g,Ss:()=>m,Tj:()=>c,fQ:()=>b,j3:()=>d,mP:()=>l,nV:()=>u,n_:()=>j,oE:()=>x,yM:()=>p});var s=r(32842),a=r(35625),n=r(48934),o=r(48182);let i={all:["workflows"],lists:()=>[...i.all,"list"],list:e=>[...i.lists(),{filters:e}],details:()=>[...i.all,"detail"],detail:e=>[...i.details(),e],nodeTypes:()=>[...i.all,"node-types"],nodeOptions:(e,t,r)=>[...i.all,"node-options",e,t,r],debugWorkflows:()=>[...i.all,"debug"],debugWorkflow:e=>[...i.all,"debug",e]};function l(){return(0,s.I)({queryKey:i.lists(),queryFn:o.y.getWorkflows})}function d(e){return(0,s.I)({queryKey:i.detail(e),queryFn:()=>o.y.getWorkflow(e),enabled:!!e})}function c(){return(0,s.I)({queryKey:i.nodeTypes(),queryFn:o.y.getNodeTypes,staleTime:0})}function u(){let e=(0,a.jE)();return(0,n.n)({mutationFn:e=>o.y.createWorkflow(e),onSuccess:()=>{e.invalidateQueries({queryKey:i.lists()})}})}function m(){let e=(0,a.jE)();return(0,n.n)({mutationFn:({id:e,data:t})=>o.y.updateWorkflow(e,t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:i.detail(r.id)}),e.invalidateQueries({queryKey:i.lists()})}})}function x(){let e=(0,a.jE)();return(0,n.n)({mutationFn:e=>o.y.deleteWorkflow(e),onSuccess:()=>{e.invalidateQueries({queryKey:i.lists()})}})}function p(){let e=(0,a.jE)();return(0,n.n)({mutationFn:e=>o.y.saveWorkflow(e),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:i.detail(r.workflow_id)}),e.invalidateQueries({queryKey:i.lists()})}})}function f(){return(0,n.n)({mutationFn:e=>o.y.executeWorkflow(e)})}function g(){return(0,n.n)({mutationFn:e=>o.y.generateWithAI(e)})}function h(){return(0,n.n)({mutationFn:({workflowId:e,nodeId:t,inputData:r})=>o.y.executeNode(e,t,r)})}function y(){let e=(0,a.jE)();return(0,n.n)({mutationFn:e=>o.y.activateWorkflow(e),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:i.detail(r)}),e.invalidateQueries({queryKey:i.lists()})}})}function b(){let e=(0,a.jE)();return(0,n.n)({mutationFn:e=>o.y.deactivateWorkflow(e),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:i.detail(r)}),e.invalidateQueries({queryKey:i.lists()})}})}function w(){return(0,n.n)({mutationFn:({code:e,language:t,inputData:r})=>o.y.executeCode(e,t,r||{})})}function j(){return(0,s.I)({queryKey:i.debugWorkflows(),queryFn:o.y.getDebugWorkflows,staleTime:3e5})}function v(){return(0,n.n)({mutationFn:e=>o.y.getDebugWorkflow(e)})}},37588:(e,t,r)=>{r.d(t,{P:()=>y});var s=r(95155),a=r(12115),n=r(80642),o=r(9673),i=r(32842),l=r(52905),d=r(66088),c=r(61878),u=r(94514),m=r(51914),x=r(36642),p=r(21950),f=r(91337),g=r(47650);let h={google_sheets:"\uD83D\uDCCA",slack:"\uD83D\uDCAC",discord:"\uD83C\uDFAE",ai_provider:"\uD83E\uDD16",webhook:"\uD83D\uDD17",api_key:"\uD83D\uDD11",database:"\uD83D\uDDC4ï¸",github:"\uD83D\uDC19",default:"\uD83D\uDD10"};function y({value:e,onChange:t,filterType:r,placeholder:y="Select credential",className:b}){let[w,j]=(0,a.useState)(!1),[v,N]=(0,a.useState)(""),[k,A]=(0,a.useState)(!1),[C,S]=(0,a.useState)({top:0,left:0,width:0}),E=(0,a.useRef)(null),W=(0,a.useRef)(null),{data:q=[],isLoading:F}=(0,i.I)({queryKey:["credentials"],queryFn:()=>x.H.getCredentials()}),T=q.filter(e=>{let t=!r||e.type===r,s=e.name.toLowerCase().includes(v.toLowerCase());return t&&s}),I=q.find(t=>t.id===e);return(0,a.useEffect)(()=>{if(w&&E.current){let e=E.current.getBoundingClientRect();S({top:e.bottom+window.scrollY+8,left:e.left+window.scrollX,width:e.width})}},[w]),(0,a.useEffect)(()=>{function e(e){W.current&&!W.current.contains(e.target)&&E.current&&!E.current.contains(e.target)&&j(!1)}if(w)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[w]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:(0,f.cn)("relative",b),children:(0,s.jsxs)("button",{ref:E,type:"button",onClick:()=>j(!w),className:(0,f.cn)("w-full flex items-center justify-between gap-2 px-3 py-2.5 bg-background border border-border rounded-lg hover:border-primary/50 transition-all text-sm",w&&"border-primary ring-2 ring-primary/20"),children:[(0,s.jsx)("div",{className:"flex items-center gap-2.5 min-w-0 flex-1",children:I?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-base shrink-0",children:h[I.type]||h.default}),(0,s.jsx)("span",{className:"text-sm font-medium truncate",children:I.name})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.A,{className:"h-4 w-4 text-muted-foreground shrink-0"}),(0,s.jsx)("span",{className:"text-sm text-muted-foreground truncate",children:y})]})}),(0,s.jsx)(d.A,{className:(0,f.cn)("h-4 w-4 text-muted-foreground transition-transform shrink-0",w&&"rotate-180")})]})}),w&&(0,g.createPortal)((0,s.jsx)(n.N,{children:(0,s.jsxs)(o.P.div,{ref:W,initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.15,ease:"easeOut"},style:{position:"absolute",top:C.top,left:C.left,width:C.width,zIndex:9999},className:"bg-card border border-border rounded-xl shadow-2xl overflow-hidden",children:[(0,s.jsx)("div",{className:"p-3 border-b border-border bg-muted/20",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(c.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,s.jsx)("input",{type:"text",value:v,onChange:e=>N(e.target.value),placeholder:"Search credentials...",autoFocus:!0,className:"w-full pl-9 pr-3 py-2 bg-background border border-border rounded-lg text-sm focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all",onClick:e=>e.stopPropagation()})]})}),(0,s.jsx)("div",{className:"max-h-[280px] overflow-y-auto custom-scrollbar",children:F?(0,s.jsx)("div",{className:"p-8 text-center",children:(0,s.jsxs)("div",{className:"inline-flex items-center gap-2 text-sm text-muted-foreground",children:[(0,s.jsx)("div",{className:"h-4 w-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),"Loading..."]})}):0===T.length?(0,s.jsxs)("div",{className:"p-8 text-center",children:[(0,s.jsx)("div",{className:"h-12 w-12 rounded-full bg-muted/50 flex items-center justify-center mx-auto mb-3",children:(0,s.jsx)(l.A,{className:"h-6 w-6 text-muted-foreground"})}),(0,s.jsx)("p",{className:"text-sm font-medium text-foreground mb-1",children:v?"No credentials found":"No credentials yet"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:v?"Try a different search":"Create your first credential below"})]}):(0,s.jsx)("div",{className:"py-1",children:T.map(r=>(0,s.jsxs)("button",{type:"button",onClick:()=>{t(r.id),j(!1),N("")},className:(0,f.cn)("w-full flex items-center justify-between gap-3 px-3 py-2.5 hover:bg-muted/50 transition-all text-left group",e===r.id&&"bg-primary/10 hover:bg-primary/15"),children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[(0,s.jsx)("div",{className:(0,f.cn)("h-9 w-9 rounded-lg flex items-center justify-center text-lg shrink-0 transition-all",e===r.id?"bg-primary/20":"bg-muted group-hover:bg-muted/80"),children:h[r.type]||h.default}),(0,s.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,s.jsx)("p",{className:"text-sm font-medium truncate text-foreground",children:r.name}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground capitalize",children:r.type.replace("_"," ")})]})]}),e===r.id&&(0,s.jsx)(u.A,{className:"h-4 w-4 text-primary shrink-0"})]},r.id))})}),(0,s.jsx)("div",{className:"p-2 border-t border-border bg-gradient-to-b from-transparent to-muted/30",children:(0,s.jsxs)("button",{type:"button",onClick:()=>{A(!0),j(!1)},className:"w-full flex items-center justify-center gap-2 px-3 py-2.5 rounded-lg bg-primary/10 hover:bg-primary/20 text-primary transition-all text-sm font-medium group",children:[(0,s.jsx)("div",{className:"h-5 w-5 rounded-md bg-primary/20 group-hover:bg-primary/30 flex items-center justify-center transition-all",children:(0,s.jsx)(m.A,{className:"h-3.5 w-3.5"})}),"Create new credential"]})})]})}),document.body),(0,s.jsx)(p.X,{isOpen:k,onClose:()=>A(!1),onSuccess:e=>{t(e),A(!1),j(!1)},defaultType:r||"api_key"})]})}},48182:(e,t,r)=>{r.d(t,{l:()=>n,y:()=>a});var s=r(61899);let a={getWorkflows:async()=>(await s.uE.get("/workflows/")).data,getWorkflow:async e=>s.uE.get(`/workflows/${e}`),createWorkflow:async e=>s.uE.post("/workflows/",e),updateWorkflow:async(e,t)=>s.uE.patch(`/workflows/${e}`,t),deleteWorkflow:async e=>s.uE.delete(`/workflows/${e}`),async saveWorkflow(e){let{workflow_id:t,...r}=e;return console.log("[DEBUG] Save workflow request:",JSON.stringify(r,null,2)),s.uE.post(`/workflows/${t}/save`,r)},executeWorkflow:async e=>s.uE.post(`/workflows/${e}/execute`),getNodeTypes:async()=>s.uE.get("/workflows/nodes/types"),generateWithAI:async e=>s.uE.post("/workflows/ai/generate",e),executeNode:async(e,t,r={})=>s.uE.post(`/workflows/${e}/nodes/${t}/execute`,{input_data:r}),activateWorkflow:async e=>s.uE.post(`/workflows/${e}/activate`),deactivateWorkflow:async e=>s.uE.post(`/workflows/${e}/deactivate`),getNodeOptions:async(e,t,r={})=>s.uE.post("/workflows/node/options",{node_type:e,method_name:t,dependency_values:r}),executeCode:async(e,t,r={})=>s.uE.post("/workflows/execute-code",{code:e,language:t,input_data:r}),getDebugWorkflows:async()=>s.uE.get("/workflows/debug/workflows"),getDebugWorkflow:async e=>s.uE.get(`/workflows/debug/workflows/${e}`)},n=a},73480:(e,t,r)=>{r.d(t,{F:()=>$});var s=r(95155),a=r(12115),n=r(80642),o=r(9673),i=r(52475),l=r(53961),d=r(97810),c=r(31885),u=r(96035),m=r(66088),x=r(61878),p=r(94514),f=r(80723),g=r(86901),h=r(24371),y=r(60241),b=r(1164),w=r(33210),j=r(94961),v=r(34220),N=r(65576),k=r(67635),A=r(9199),C=r(56204),S=r(47650),E=r(34426),W=r(91337),q=r(37588);let F=[{id:"openai/gpt-4o-mini",label:"GPT-4o Mini",provider:"openai",description:"Fast & efficient",speed:"Fast",quality:"Good",cost:"Low"},{id:"openai/gpt-4o",label:"GPT-4o",provider:"openai",description:"Most capable",speed:"Medium",quality:"Excellent",cost:"Medium"},{id:"anthropic/claude-3-5-sonnet",label:"Claude 3.5 Sonnet",provider:"anthropic",description:"Best reasoning",speed:"Medium",quality:"Excellent",cost:"Medium"},{id:"google/gemini-2.0-flash",label:"Gemini 2.0 Flash",provider:"gemini",description:"Google AI",speed:"Very Fast",quality:"Good",cost:"Low"},{id:"deepseek/deepseek-r1",label:"DeepSeek R1",provider:"openrouter",description:"Advanced reasoning",speed:"Slow",quality:"Excellent",cost:"Low"}],T=[{icon:i.A,text:"How do I use variables in workflows?",category:"Basics"},{icon:l.A,text:"What triggers are available?",category:"Triggers"},{icon:d.A,text:"How to connect to Google Sheets?",category:"Integrations"},{icon:c.A,text:"Best practices for error handling",category:"Advanced"}],I=["Send daily email report from Google Sheets","Monitor website uptime and alert on Slack","Auto-respond to WhatsApp messages with AI","Sync data between Airtable and Notion"];l.A,d.A,u.A;let P={openai:"\uD83E\uDD16",anthropic:"\uD83E\uDDE0",google:"âœ¨",deepseek:"\uD83C\uDF0A",openrouter:"\uD83C\uDF10",default:"âš™ï¸"};function D({value:e,onChange:t,className:r}){let[i,l]=(0,a.useState)(!1),[d,c]=(0,a.useState)(""),[u,f]=(0,a.useState)({top:0,left:0,width:0}),g=(0,a.useRef)(null),h=(0,a.useRef)(null),y=F.filter(e=>e.label.toLowerCase().includes(d.toLowerCase())||e.provider.toLowerCase().includes(d.toLowerCase())),b=F.find(t=>t.id===e)||F[0];return(0,a.useEffect)(()=>{if(i&&g.current){let e=g.current.getBoundingClientRect();f({top:e.bottom+window.scrollY+8,left:e.left+window.scrollX,width:e.width})}},[i]),(0,a.useEffect)(()=>{function e(e){h.current&&!h.current.contains(e.target)&&g.current&&!g.current.contains(e.target)&&l(!1)}if(i)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[i]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:(0,W.cn)("relative",r),children:(0,s.jsxs)("button",{ref:g,type:"button",onClick:()=>l(!i),className:(0,W.cn)("w-full flex items-center justify-between gap-2 px-3 py-2.5 bg-background border border-border rounded-lg hover:border-primary/50 transition-all text-sm",i&&"border-primary ring-2 ring-primary/20"),children:[(0,s.jsxs)("div",{className:"flex items-center gap-2.5 min-w-0 flex-1",children:[(0,s.jsx)("span",{className:"text-base shrink-0",children:P[b.provider]||P.default}),(0,s.jsx)("span",{className:"text-sm font-medium truncate",children:b.label})]}),(0,s.jsx)(m.A,{className:(0,W.cn)("h-4 w-4 text-muted-foreground transition-transform shrink-0",i&&"rotate-180")})]})}),i&&(0,S.createPortal)((0,s.jsx)(n.N,{children:(0,s.jsxs)(o.P.div,{ref:h,initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.15,ease:"easeOut"},style:{position:"absolute",top:u.top,left:u.left,width:u.width,zIndex:9999},className:"bg-card border border-border rounded-xl shadow-2xl overflow-hidden",children:[(0,s.jsx)("div",{className:"p-3 border-b border-border bg-muted/20",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(x.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,s.jsx)("input",{type:"text",value:d,onChange:e=>c(e.target.value),placeholder:"Search models...",autoFocus:!0,className:"w-full pl-9 pr-3 py-2 bg-background border border-border rounded-lg text-sm focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all",onClick:e=>e.stopPropagation()})]})}),(0,s.jsx)("div",{className:"max-h-[280px] overflow-y-auto custom-scrollbar",children:(0,s.jsx)("div",{className:"py-1",children:y.map(r=>(0,s.jsxs)("button",{type:"button",onClick:()=>{t(r.id),l(!1),c("")},className:(0,W.cn)("w-full flex items-center justify-between gap-3 px-3 py-2.5 hover:bg-muted/50 transition-all text-left group",e===r.id&&"bg-primary/10 hover:bg-primary/15"),children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[(0,s.jsx)("div",{className:(0,W.cn)("h-9 w-9 rounded-lg flex items-center justify-center text-lg shrink-0 transition-all",e===r.id?"bg-primary/20":"bg-muted group-hover:bg-muted/80"),children:P[r.provider]||P.default}),(0,s.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,s.jsx)("p",{className:"text-sm font-medium truncate text-foreground",children:r.label}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground capitalize",children:r.description})]})]}),e===r.id&&(0,s.jsx)(p.A,{className:"h-4 w-4 text-primary shrink-0"})]},r.id))})})]})}),document.body)]})}function $({isOpen:e,onClose:t,onCreateWorkflow:r,defaultMode:i="help"}){let[d,c]=(0,a.useState)(i),[m,x]=(0,a.useState)([]),[S,P]=(0,a.useState)(""),[$,_]=(0,a.useState)(!1),[K,L]=(0,a.useState)(!1),[M,G]=(0,a.useState)("openai/gpt-4o-mini"),[Q,R]=(0,a.useState)(""),[z,H]=(0,a.useState)(null),[B,O]=(0,a.useState)(!1),U=(0,a.useRef)(null),V=(0,a.useRef)(null);(0,a.useEffect)(()=>{U.current?.scrollIntoView({behavior:"smooth"})},[m,$]),(0,a.useEffect)(()=>{e&&V.current&&!B&&!K&&setTimeout(()=>V.current?.focus(),100)},[e,d,B,K]),(0,a.useEffect)(()=>{V.current&&(V.current.style.height="auto",V.current.style.height=Math.min(V.current.scrollHeight,120)+"px")},[S]);let Y=async()=>{if(!S.trim()||$)return;let e={role:"user",content:S.trim(),timestamp:new Date};x(t=>[...t,e]),P(""),_(!0);try{if("create"===d&&r){await r(S.trim(),M,Q||void 0);let e={role:"assistant",content:"âœ¨ Workflow created successfully! I've generated the nodes and connections based on your requirements. You can now customize and activate it.",timestamp:new Date};x(t=>[...t,e])}else{await new Promise(e=>setTimeout(e,1e3));let e={role:"assistant",content:X(S.trim()),timestamp:new Date};x(t=>[...t,e])}}catch(t){let e={role:"assistant",content:"âŒ Sorry, something went wrong. Please try again or check your settings.",timestamp:new Date};x(t=>[...t,e])}finally{_(!1)}},X=e=>{let t=e.toLowerCase();return t.includes("variable")||t.includes("expression")?`ðŸ“ **Using Variables in Workflows**

Variables allow you to store and reuse data across nodes. Here's how:

1. **Reference previous node outputs**: Use \`{{node_id.outputs.field_name}}\`
2. **Built-in variables**: \`{{$now}}\`, \`{{$user.email}}\`, \`{{$workflow.id}}\`
3. **Create custom variables**: Go to Dashboard > Variables

Example: \`{{trigger.outputs.email}}\` gets the email from your trigger node.`:t.includes("trigger")?`âš¡ **Available Triggers**

We support multiple trigger types:

â€¢ **Schedule**: Run workflows on a cron schedule
â€¢ **Webhook**: Trigger via HTTP requests
â€¢ **Email**: Trigger when emails arrive
â€¢ **Form Submit**: React to form submissions
â€¢ **Manual**: Run workflows manually

Each trigger outputs data that you can use in subsequent nodes!`:t.includes("google sheets")||t.includes("sheets")?`ðŸ“Š **Connecting to Google Sheets**

1. Go to **Credentials** page
2. Click **Add Credential**
3. Select **Google Sheets** as type
4. Complete OAuth authentication
5. Use the credential in your Google Sheets nodes

The credential is encrypted and stored securely!`:t.includes("error")||t.includes("handling")?`ðŸ›¡ï¸ **Error Handling Best Practices**

1. **Use Try-Catch logic nodes** to handle failures gracefully
2. **Set retry policies** in node settings (up to 3 retries)
3. **Add conditional branches** for error scenarios
4. **Enable logging** in workflow settings for debugging
5. **Use notification nodes** to alert on critical failures

Pro tip: Test your workflows with the Execute button before activating!`:`I'm here to help with your automation questions! I can assist with:

â€¢ Workflow creation and design
â€¢ Node configuration
â€¢ Integration setup
â€¢ Troubleshooting
â€¢ Best practices

Try asking something like "How do I connect to Slack?" or "What's the best way to handle errors?"`},J=e=>{P(e),V.current?.focus()},Z=F.find(e=>e.id===M);return e?(0,s.jsx)(n.N,{children:(0,s.jsxs)(o.P.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1,height:B?"auto":"700px"},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeOut"},className:(0,W.cn)("fixed bottom-6 right-6 w-[520px] bg-card border border-border rounded-2xl shadow-2xl flex flex-col z-[100] overflow-hidden",B&&"h-auto"),children:[(0,s.jsxs)("header",{className:"shrink-0 select-none bg-card border-b border-border",children:[(0,s.jsxs)("div",{className:"p-4 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[K&&(0,s.jsx)("button",{onClick:()=>L(!1),className:"h-9 w-9 rounded-lg hover:bg-muted flex items-center justify-center transition-colors",children:(0,s.jsx)(f.A,{className:"h-4 w-4"})}),(0,s.jsx)("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-primary/20 to-primary/10 flex items-center justify-center",children:(0,s.jsx)(g.A,{className:"h-5 w-5 text-primary"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-bold text-sm tracking-tight text-foreground",children:K?"Settings":"AI Assistant"}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-0.5",children:[(0,s.jsx)("div",{className:"h-1.5 w-1.5 rounded-full bg-emerald-500"}),(0,s.jsx)("p",{className:"text-[10px] font-medium text-muted-foreground",children:K?"Configure AI":`${"help"===d?"Help Mode":"Create Mode"}`})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[!K&&(0,s.jsx)(E.$,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-lg",onClick:()=>O(!B),children:B?(0,s.jsx)(h.A,{className:"h-4 w-4"}):(0,s.jsx)(y.A,{className:"h-4 w-4"})}),(0,s.jsx)(E.$,{variant:"ghost",size:"icon",className:(0,W.cn)("h-8 w-8 rounded-lg transition-all",K&&"bg-muted text-foreground"),onClick:()=>L(!K),children:(0,s.jsx)(b.A,{className:"h-4 w-4"})}),(0,s.jsx)(E.$,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-lg hover:bg-destructive/10 hover:text-destructive",onClick:t,children:(0,s.jsx)(w.A,{className:"h-4 w-4"})})]})]}),!B&&!K&&(0,s.jsx)("div",{className:"px-4 pb-3",children:(0,s.jsxs)("div",{className:"flex gap-2 p-1 bg-muted/50 rounded-lg",children:[(0,s.jsxs)("button",{onClick:()=>c("help"),className:(0,W.cn)("flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-md text-xs font-medium transition-all","help"===d?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[(0,s.jsx)(j.A,{className:"h-3.5 w-3.5"}),"Help & Support"]}),(0,s.jsxs)("button",{onClick:()=>c("create"),className:(0,W.cn)("flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-md text-xs font-medium transition-all","create"===d?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[(0,s.jsx)(v.A,{className:"h-3.5 w-3.5"}),"Create Workflow"]})]})})]}),!B&&(0,s.jsx)(s.Fragment,{children:K?(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("label",{className:"text-xs font-semibold text-muted-foreground flex items-center gap-2 uppercase tracking-wider",children:[(0,s.jsx)(N.A,{className:"h-4 w-4"})," AI Model"]}),(0,s.jsx)(D,{value:M,onChange:G})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("label",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"AI Credential"}),(0,s.jsx)(q.P,{value:Q,onChange:R,filterType:"ai_provider",placeholder:"System Default"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground leading-relaxed",children:"\uD83D\uDCA1 Use your own API key for unlimited access and advanced models."})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto px-4 py-4 space-y-4 custom-scrollbar",children:[0===m.length&&(0,s.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-center px-6",children:[(0,s.jsx)(o.P.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15},className:"h-20 w-20 rounded-2xl bg-gradient-to-tr from-indigo-500/20 via-primary/20 to-emerald-400/20 flex items-center justify-center mb-6 shadow-inner",children:"help"===d?(0,s.jsx)(u.A,{className:"h-10 w-10 text-primary"}):(0,s.jsx)(v.A,{className:"h-10 w-10 text-primary"})}),(0,s.jsx)("h4",{className:"font-bold text-lg mb-2 tracking-tight",children:"help"===d?"How can I help you?":"Create Your Workflow"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-6 max-w-[320px] leading-relaxed",children:"help"===d?"Ask me anything about workflows, integrations, or troubleshooting.":"Describe your automation idea in plain English, and I'll build it for you."}),(0,s.jsxs)("div",{className:"w-full space-y-2",children:[(0,s.jsx)("p",{className:"text-[10px] font-bold uppercase tracking-wider text-muted-foreground",children:"help"===d?"Popular Questions":"Try These Examples"}),(0,s.jsx)("div",{className:"space-y-2",children:"help"===d?T.map((e,t)=>(0,s.jsxs)(o.P.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},onClick:()=>J(e.text),className:"w-full flex items-center gap-3 p-3 rounded-lg border border-border bg-background/50 hover:bg-background hover:border-primary/50 transition-all text-left group",children:[(0,s.jsx)("div",{className:"h-8 w-8 rounded-lg bg-primary/10 flex items-center justify-center shrink-0 group-hover:bg-primary/20 transition-colors",children:(0,s.jsx)(e.icon,{className:"h-4 w-4 text-primary"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-xs font-medium text-foreground group-hover:text-primary transition-colors truncate",children:e.text}),(0,s.jsx)("p",{className:"text-[10px] text-muted-foreground",children:e.category})]})]},t)):I.map((e,t)=>(0,s.jsx)(o.P.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1*t},onClick:()=>J(e),className:"w-full text-left px-3 py-2.5 rounded-lg border border-border bg-background/50 hover:bg-background hover:border-primary/50 text-xs text-foreground transition-all group",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(l.A,{className:"h-3.5 w-3.5 text-muted-foreground group-hover:text-primary transition-colors shrink-0"}),(0,s.jsx)("span",{className:"group-hover:text-primary transition-colors",children:e})]})},t))})]})]}),m.map((e,t)=>(0,s.jsx)(o.P.div,{initial:{opacity:0,y:10,x:"user"===e.role?10:-10},animate:{opacity:1,y:0,x:0},className:(0,W.cn)("flex w-full","user"===e.role?"justify-end":"justify-start"),children:(0,s.jsxs)("div",{className:(0,W.cn)("max-w-[85%] space-y-2"),children:[(0,s.jsx)("div",{className:(0,W.cn)("px-4 py-3 rounded-xl text-sm leading-relaxed shadow-sm","user"===e.role?"bg-primary text-primary-foreground rounded-tr-sm":"bg-muted/50 text-foreground border border-border rounded-tl-sm"),children:(0,s.jsx)("div",{className:"whitespace-pre-wrap break-words",children:e.content})}),(0,s.jsxs)("div",{className:(0,W.cn)("flex items-center gap-2 text-[10px] text-muted-foreground px-1","user"===e.role?"justify-end":"justify-start"),children:[(0,s.jsx)("span",{children:e.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),"assistant"===e.role&&(0,s.jsx)("button",{onClick:()=>{var r;return r=e.content,void(navigator.clipboard.writeText(r),H(t),setTimeout(()=>H(null),2e3))},className:"hover:text-foreground transition-colors",children:z===t?(0,s.jsx)(p.A,{className:"h-3 w-3"}):(0,s.jsx)(k.A,{className:"h-3 w-3"})})]})]})},t)),$&&(0,s.jsx)(o.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex justify-start",children:(0,s.jsx)("div",{className:"bg-muted/50 border border-border px-4 py-3 rounded-xl rounded-tl-sm",children:(0,s.jsxs)("div",{className:"flex gap-1.5",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-primary/60 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,s.jsx)("div",{className:"w-2 h-2 bg-primary/60 rounded-full animate-bounce",style:{animationDelay:"200ms"}}),(0,s.jsx)("div",{className:"w-2 h-2 bg-primary/60 rounded-full animate-bounce",style:{animationDelay:"400ms"}})]})})}),(0,s.jsx)("div",{ref:U})]}),(0,s.jsxs)("div",{className:"shrink-0 p-4 bg-card border-t border-border",children:[m.length>0&&(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-[10px] text-muted-foreground",children:[(0,s.jsx)(N.A,{className:"h-3 w-3"}),(0,s.jsx)("span",{children:Z?.label})]}),(0,s.jsxs)(E.$,{variant:"ghost",size:"sm",onClick:()=>{x([])},className:"h-6 text-[10px] gap-1.5",children:[(0,s.jsx)(A.A,{className:"h-3 w-3"}),"Clear Chat"]})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("textarea",{ref:V,value:S,onChange:e=>P(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),Y())},placeholder:"help"===d?"Ask me anything...":"Describe your workflow...",className:"w-full min-h-[48px] max-h-[120px] bg-background border border-border rounded-xl px-4 py-3 pr-12 text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary resize-none placeholder:text-muted-foreground transition-all",rows:1,disabled:$}),(0,s.jsx)(E.$,{size:"icon",onClick:Y,disabled:!S.trim()||$,className:(0,W.cn)("absolute right-2 bottom-2 h-8 w-8 rounded-lg transition-all",S.trim()&&!$?"opacity-100 scale-100":"opacity-50 scale-90 pointer-events-none"),children:(0,s.jsx)(C.A,{className:"h-4 w-4"})})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-3",children:[(0,s.jsxs)("p",{className:"text-[9px] text-muted-foreground",children:["Press ",(0,s.jsx)("kbd",{className:"px-1.5 py-0.5 rounded bg-muted text-foreground font-mono text-[8px] border border-border",children:"Enter"})," to send"]}),(0,s.jsx)("p",{className:"text-[9px] text-muted-foreground/60 font-medium",children:"Powered by AI"})]})]})]})})]})}):null}}}]);